<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
        <title>Diff Coverage</title>
        <style>
            .src-snippet { margin-top: 2em; }
            .src-name { font-weight: bold; }
            .snippets {
                border-top: 1px solid #bdbdbd;
                border-bottom: 1px solid #bdbdbd;
            }
            pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.hll { background-color: #ffcccc }
.c { color: #3D7B7B; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.cp { color: #9C6500 } /* Comment.Preproc */
.cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gr { color: #E40000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #008400 } /* Generic.Inserted */
.go { color: #717171 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0044DD } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #687822 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #717171; font-weight: bold } /* Name.Entity */
.ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #767600 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mb { color: #666666 } /* Literal.Number.Bin */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sa { color: #BA2121 } /* Literal.String.Affix */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.dl { color: #BA2121 } /* Literal.String.Delimiter */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #A45A77 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.fm { color: #0000FF } /* Name.Function.Magic */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.vm { color: #19177C } /* Name.Variable.Magic */
.il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>
    </head>
    <body>
        <h1>Diff Coverage</h1>
        <p>Diff: origin/main...HEAD, staged and unstaged changes</p>
        <ul>
            <li><b>Total</b>: 1175 lines</li>
            <li><b>Missing</b>: 304 lines</li>
            <li><b>Coverage</b>: 74%</li>
        </ul>
        <table border="1">
            <tr>
                <th>Source File</th>
                <th>Diff Coverage (%)</th>
                <th>Missing Lines</th>
            </tr>
            <tr>
                <td>go/appbuilder/agent_builder.go</td>
                <td>79.8%</td>
                <td>34,37,57,69,74,78,82,86,100,105,111,121,126,130,134,138,145,157,170,174,180</td>
            </tr>
            <tr>
                <td>go/appbuilder/agent_builder_data.go</td>
                <td>54.1%</td>
                <td>36,62-63,72-73,80-81,91-93,95-98,100-102</td>
            </tr>
            <tr>
                <td>go/appbuilder/app_builder_client.go</td>
                <td>80.0%</td>
                <td>38,58,70,75,79,83,91,94,111,115,127,139,144,148,152,156,170,175,181,191,196,200,204,208,215,228,244,249,255,260,267,282,286,290</td>
            </tr>
            <tr>
                <td>go/appbuilder/app_builder_client_data.go</td>
                <td>81.1%</td>
                <td>270-271,280-281,288-289,306</td>
            </tr>
            <tr>
                <td>go/appbuilder/config.go</td>
                <td>86.1%</td>
                <td>67,83-85,87,139,148,168,173,202-203</td>
            </tr>
            <tr>
                <td>go/appbuilder/dataset.go</td>
                <td>74.7%</td>
                <td>33,52,64,69,73,77,80,86-90,92,94-96,98,104,108,118,123,131,140,144,148,152,155,165,180,184,188,192,195,204,222,227,231,235,238,248,263,268</td>
            </tr>
            <tr>
                <td>go/appbuilder/knowledge_base.go</td>
                <td>81.2%</td>
                <td>36,59,70,75,79,83,86,98,108,111,126,131,140,150,153,170,175,179,183,186,196,201,209,218,222,226,230,233,247,258,263,267,271,282,295,300,304,308,319,330,335,339,343,357,368,373,377,388,399,412,417,421,435,446,451,455,466,471,476,480,483,494,503,508,512,526,537,542,546,551,565,576,581,585,590,601,612,626,631,635,640,651,665,670,674,679,690,701,706,710,715</td>
            </tr>
            <tr>
                <td>go/appbuilder/rag.go</td>
                <td>0.0%</td>
                <td>28-29,31-32,34-36,38,48-52,54-58,63-64,66-71,73-75,77-79,81</td>
            </tr>
            <tr>
                <td>go/appbuilder/rag_data.go</td>
                <td>0.0%</td>
                <td>51-53,71-74,76-78,80-85,87-89,91-93,96-97,108-109,111-113,115-119,121-123,125-128</td>
            </tr>
            <tr>
                <td>go/appbuilder/util.go</td>
                <td>70.8%</td>
                <td>37-39,41,62,72-73</td>
            </tr>
        </table>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/agent_builder.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-30" name="go/appbuilder/agent_builder.go-30"></a>
<a id="go/appbuilder/agent_builder.go-31" name="go/appbuilder/agent_builder.go-31"></a><span class="c1">// Deprecated: 请使用AppBuilderClient 代替 AgentBuilder</span>
<a id="go/appbuilder/agent_builder.go-32" name="go/appbuilder/agent_builder.go-32"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewAgentBuilder</span><span class="p">(</span><span class="nx">appID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">AgentBuilder</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-33" name="go/appbuilder/agent_builder.go-33"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">appID</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-34" name="go/appbuilder/agent_builder.go-34"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;appID is empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-35" name="go/appbuilder/agent_builder.go-35"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-36" name="go/appbuilder/agent_builder.go-36"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-37" name="go/appbuilder/agent_builder.go-37"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;config is nil&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-38" name="go/appbuilder/agent_builder.go-38"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-39" name="go/appbuilder/agent_builder.go-39"></a><span class="w">	</span><span class="nx">client</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">HTTPClient</span>
<a id="go/appbuilder/agent_builder.go-40" name="go/appbuilder/agent_builder.go-40"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-41" name="go/appbuilder/agent_builder.go-41"></a><span class="w">		</span><span class="nx">client</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span><span class="nx">Timeout</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-53" name="go/appbuilder/agent_builder.go-53"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/agent_builder.go-54" name="go/appbuilder/agent_builder.go-54"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder.go-55" name="go/appbuilder/agent_builder.go-55"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation&quot;</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-56" name="go/appbuilder/agent_builder.go-56"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-57" name="go/appbuilder/agent_builder.go-57"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-58" name="go/appbuilder/agent_builder.go-58"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-59" name="go/appbuilder/agent_builder.go-59"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/agent_builder.go-60" name="go/appbuilder/agent_builder.go-60"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/agent_builder.go-61" name="go/appbuilder/agent_builder.go-61"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-65" name="go/appbuilder/agent_builder.go-65"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/agent_builder.go-66" name="go/appbuilder/agent_builder.go-66"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-67" name="go/appbuilder/agent_builder.go-67"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-68" name="go/appbuilder/agent_builder.go-68"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-69" name="go/appbuilder/agent_builder.go-69"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-70" name="go/appbuilder/agent_builder.go-70"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-71" name="go/appbuilder/agent_builder.go-71"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder.go-72" name="go/appbuilder/agent_builder.go-72"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-73" name="go/appbuilder/agent_builder.go-73"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-74" name="go/appbuilder/agent_builder.go-74"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-75" name="go/appbuilder/agent_builder.go-75"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-76" name="go/appbuilder/agent_builder.go-76"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-77" name="go/appbuilder/agent_builder.go-77"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-78" name="go/appbuilder/agent_builder.go-78"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-79" name="go/appbuilder/agent_builder.go-79"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-80" name="go/appbuilder/agent_builder.go-80"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-81" name="go/appbuilder/agent_builder.go-81"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-82" name="go/appbuilder/agent_builder.go-82"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-83" name="go/appbuilder/agent_builder.go-83"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-84" name="go/appbuilder/agent_builder.go-84"></a><span class="w">	</span><span class="nx">val</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rsp</span><span class="p">[</span><span class="s">&quot;conversation_id&quot;</span><span class="p">]</span>
<a id="go/appbuilder/agent_builder.go-85" name="go/appbuilder/agent_builder.go-85"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-86" name="go/appbuilder/agent_builder.go-86"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/agent_builder.go-87" name="go/appbuilder/agent_builder.go-87"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-88" name="go/appbuilder/agent_builder.go-88"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">val</span><span class="p">.(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/agent_builder.go-89" name="go/appbuilder/agent_builder.go-89"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-96" name="go/appbuilder/agent_builder.go-96"></a><span class="w">	</span><span class="nx">conversationIDPart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormField</span><span class="p">(</span><span class="s">&quot;conversation_id&quot;</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-97" name="go/appbuilder/agent_builder.go-97"></a><span class="w">	</span><span class="nx">conversationIDPart</span><span class="p">.</span><span class="nx">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">conversationID</span><span class="p">))</span>
<a id="go/appbuilder/agent_builder.go-98" name="go/appbuilder/agent_builder.go-98"></a><span class="w">	</span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">filePath</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-99" name="go/appbuilder/agent_builder.go-99"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-100" name="go/appbuilder/agent_builder.go-100"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-101" name="go/appbuilder/agent_builder.go-101"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-102" name="go/appbuilder/agent_builder.go-102"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder.go-103" name="go/appbuilder/agent_builder.go-103"></a><span class="w">	</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormFile</span><span class="p">(</span><span class="s">&quot;file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Base</span><span class="p">(</span><span class="nx">filePath</span><span class="p">))</span>
<a id="go/appbuilder/agent_builder.go-104" name="go/appbuilder/agent_builder.go-104"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">Copy</span><span class="p">(</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-105" name="go/appbuilder/agent_builder.go-105"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-106" name="go/appbuilder/agent_builder.go-106"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-107" name="go/appbuilder/agent_builder.go-107"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder.go-108" name="go/appbuilder/agent_builder.go-108"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/agent_builder.go-109" name="go/appbuilder/agent_builder.go-109"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/file/upload&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-107" name="go/appbuilder/agent_builder.go-107"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder.go-108" name="go/appbuilder/agent_builder.go-108"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/agent_builder.go-109" name="go/appbuilder/agent_builder.go-109"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/file/upload&quot;</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-110" name="go/appbuilder/agent_builder.go-110"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-111" name="go/appbuilder/agent_builder.go-111"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-112" name="go/appbuilder/agent_builder.go-112"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-113" name="go/appbuilder/agent_builder.go-113"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/agent_builder.go-114" name="go/appbuilder/agent_builder.go-114"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/agent_builder.go-115" name="go/appbuilder/agent_builder.go-115"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-117" name="go/appbuilder/agent_builder.go-117"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
<a id="go/appbuilder/agent_builder.go-118" name="go/appbuilder/agent_builder.go-118"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">Bytes</span><span class="p">()))</span>
<a id="go/appbuilder/agent_builder.go-119" name="go/appbuilder/agent_builder.go-119"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-120" name="go/appbuilder/agent_builder.go-120"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-121" name="go/appbuilder/agent_builder.go-121"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-122" name="go/appbuilder/agent_builder.go-122"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-123" name="go/appbuilder/agent_builder.go-123"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder.go-124" name="go/appbuilder/agent_builder.go-124"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-125" name="go/appbuilder/agent_builder.go-125"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-126" name="go/appbuilder/agent_builder.go-126"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-127" name="go/appbuilder/agent_builder.go-127"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-128" name="go/appbuilder/agent_builder.go-128"></a><span class="w">	</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-129" name="go/appbuilder/agent_builder.go-129"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-130" name="go/appbuilder/agent_builder.go-130"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-131" name="go/appbuilder/agent_builder.go-131"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-132" name="go/appbuilder/agent_builder.go-132"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-133" name="go/appbuilder/agent_builder.go-133"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-134" name="go/appbuilder/agent_builder.go-134"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-135" name="go/appbuilder/agent_builder.go-135"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-136" name="go/appbuilder/agent_builder.go-136"></a><span class="w">	</span><span class="nx">val</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rsp</span><span class="p">[</span><span class="s">&quot;id&quot;</span><span class="p">]</span>
<a id="go/appbuilder/agent_builder.go-137" name="go/appbuilder/agent_builder.go-137"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-138" name="go/appbuilder/agent_builder.go-138"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">body</span><span class="p">))</span>
</span><a id="go/appbuilder/agent_builder.go-139" name="go/appbuilder/agent_builder.go-139"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-140" name="go/appbuilder/agent_builder.go-140"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">val</span><span class="p">.(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/agent_builder.go-141" name="go/appbuilder/agent_builder.go-141"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-141" name="go/appbuilder/agent_builder.go-141"></a><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-142" name="go/appbuilder/agent_builder.go-142"></a>
<a id="go/appbuilder/agent_builder.go-143" name="go/appbuilder/agent_builder.go-143"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AgentBuilder</span><span class="p">)</span><span class="w"> </span><span class="nx">Run</span><span class="p">(</span><span class="nx">conversationID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">query</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">fileIDS</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">AgentBuilderIterator</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-144" name="go/appbuilder/agent_builder.go-144"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">conversationID</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-145" name="go/appbuilder/agent_builder.go-145"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;conversationID mustn&#39;t be empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-146" name="go/appbuilder/agent_builder.go-146"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-147" name="go/appbuilder/agent_builder.go-147"></a><span class="w">	</span><span class="nx">m</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span><span class="s">&quot;app_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">appID</span><span class="p">,</span>
<a id="go/appbuilder/agent_builder.go-148" name="go/appbuilder/agent_builder.go-148"></a><span class="w">		</span><span class="s">&quot;conversation_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">conversationID</span><span class="p">,</span>
<a id="go/appbuilder/agent_builder.go-149" name="go/appbuilder/agent_builder.go-149"></a><span class="w">		</span><span class="s">&quot;query&quot;</span><span class="p">:</span><span class="w">           </span><span class="nx">query</span><span class="p">,</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-153" name="go/appbuilder/agent_builder.go-153"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/agent_builder.go-154" name="go/appbuilder/agent_builder.go-154"></a>
<a id="go/appbuilder/agent_builder.go-155" name="go/appbuilder/agent_builder.go-155"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/runs&quot;</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-156" name="go/appbuilder/agent_builder.go-156"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-157" name="go/appbuilder/agent_builder.go-157"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-158" name="go/appbuilder/agent_builder.go-158"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-159" name="go/appbuilder/agent_builder.go-159"></a>
<a id="go/appbuilder/agent_builder.go-160" name="go/appbuilder/agent_builder.go-160"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/agent_builder.go-161" name="go/appbuilder/agent_builder.go-161"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-166" name="go/appbuilder/agent_builder.go-166"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/agent_builder.go-167" name="go/appbuilder/agent_builder.go-167"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-168" name="go/appbuilder/agent_builder.go-168"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-169" name="go/appbuilder/agent_builder.go-169"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-170" name="go/appbuilder/agent_builder.go-170"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/agent_builder.go-171" name="go/appbuilder/agent_builder.go-171"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-172" name="go/appbuilder/agent_builder.go-172"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder.go-173" name="go/appbuilder/agent_builder.go-173"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-174" name="go/appbuilder/agent_builder.go-174"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder.go-175" name="go/appbuilder/agent_builder.go-175"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-176" name="go/appbuilder/agent_builder.go-176"></a><span class="w">	</span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="nx">bufio</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">))</span>
<a id="go/appbuilder/agent_builder.go-177" name="go/appbuilder/agent_builder.go-177"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-178" name="go/appbuilder/agent_builder.go-178"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AgentBuilderStreamIterator</span><span class="p">{</span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder.go-176" name="go/appbuilder/agent_builder.go-176"></a><span class="w">	</span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="nx">bufio</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">))</span>
<a id="go/appbuilder/agent_builder.go-177" name="go/appbuilder/agent_builder.go-177"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder.go-178" name="go/appbuilder/agent_builder.go-178"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AgentBuilderStreamIterator</span><span class="p">{</span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/agent_builder.go-179" name="go/appbuilder/agent_builder.go-179"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder.go-180" name="go/appbuilder/agent_builder.go-180"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AgentBuilderOnceIterator</span><span class="p">{</span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/agent_builder.go-181" name="go/appbuilder/agent_builder.go-181"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/agent_builder_data.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder_data.go-32" name="go/appbuilder/agent_builder_data.go-32"></a><span class="w">			</span><span class="nx">ContentType</span><span class="p">:</span><span class="w"> </span><span class="nx">c</span><span class="p">.</span><span class="nx">ContentType</span><span class="p">,</span>
<a id="go/appbuilder/agent_builder_data.go-33" name="go/appbuilder/agent_builder_data.go-33"></a><span class="w">			</span><span class="nx">Detail</span><span class="p">:</span><span class="w">      </span><span class="nx">c</span><span class="p">.</span><span class="nx">Outputs</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-34" name="go/appbuilder/agent_builder_data.go-34"></a><span class="w">		</span><span class="nx">tp</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">TypeToStruct</span><span class="p">[</span><span class="nx">ev</span><span class="p">.</span><span class="nx">ContentType</span><span class="p">]</span>
<a id="go/appbuilder/agent_builder_data.go-35" name="go/appbuilder/agent_builder_data.go-35"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-36" name="go/appbuilder/agent_builder_data.go-36"></a><span class="hll"><span class="w">			</span><span class="nx">tp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">reflect</span><span class="p">.</span><span class="nx">TypeOf</span><span class="p">(</span><span class="nx">DefaultDetail</span><span class="p">{})</span>
</span><a id="go/appbuilder/agent_builder_data.go-37" name="go/appbuilder/agent_builder_data.go-37"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-38" name="go/appbuilder/agent_builder_data.go-38"></a><span class="w">		</span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">reflect</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">tp</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder_data.go-39" name="go/appbuilder/agent_builder_data.go-39"></a><span class="w">		</span><span class="nx">_</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Outputs</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">Interface</span><span class="p">())</span>
<a id="go/appbuilder/agent_builder_data.go-40" name="go/appbuilder/agent_builder_data.go-40"></a><span class="w">		</span><span class="nx">ev</span><span class="p">.</span><span class="nx">Detail</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">Elem</span><span class="p">().</span><span class="nx">Interface</span><span class="p">()</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder_data.go-58" name="go/appbuilder/agent_builder_data.go-58"></a>
<a id="go/appbuilder/agent_builder_data.go-59" name="go/appbuilder/agent_builder_data.go-59"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AgentBuilderStreamIterator</span><span class="p">)</span><span class="w"> </span><span class="nx">Next</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">AgentBuilderAnswer</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-60" name="go/appbuilder/agent_builder_data.go-60"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">r</span><span class="p">.</span><span class="nx">ReadMessageLine</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder_data.go-61" name="go/appbuilder/agent_builder_data.go-61"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!(</span><span class="nx">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-62" name="go/appbuilder/agent_builder_data.go-62"></a><span class="hll"><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/agent_builder_data.go-63" name="go/appbuilder/agent_builder_data.go-63"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder_data.go-64" name="go/appbuilder/agent_builder_data.go-64"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-65" name="go/appbuilder/agent_builder_data.go-65"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-66" name="go/appbuilder/agent_builder_data.go-66"></a><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/agent_builder_data.go-67" name="go/appbuilder/agent_builder_data.go-67"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder_data.go-68" name="go/appbuilder/agent_builder_data.go-68"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-69" name="go/appbuilder/agent_builder_data.go-69"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">HasPrefix</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;data:&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-70" name="go/appbuilder/agent_builder_data.go-70"></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="nx">AgentBuilderRawResponse</span>
<a id="go/appbuilder/agent_builder_data.go-71" name="go/appbuilder/agent_builder_data.go-71"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="mi">5</span><span class="p">:],</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-72" name="go/appbuilder/agent_builder_data.go-72"></a><span class="hll"><span class="w">			</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/agent_builder_data.go-73" name="go/appbuilder/agent_builder_data.go-73"></a><span class="hll"><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder_data.go-74" name="go/appbuilder/agent_builder_data.go-74"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-75" name="go/appbuilder/agent_builder_data.go-75"></a><span class="w">		</span><span class="nx">answer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AgentBuilderAnswer</span><span class="p">{}</span>
<a id="go/appbuilder/agent_builder_data.go-76" name="go/appbuilder/agent_builder_data.go-76"></a><span class="w">		</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder_data.go-77" name="go/appbuilder/agent_builder_data.go-77"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder_data.go-76" name="go/appbuilder/agent_builder_data.go-76"></a><span class="w">		</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/agent_builder_data.go-77" name="go/appbuilder/agent_builder_data.go-77"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/agent_builder_data.go-78" name="go/appbuilder/agent_builder_data.go-78"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-79" name="go/appbuilder/agent_builder_data.go-79"></a><span class="w">	</span><span class="c1">// 非SSE格式关闭连接，并返回数据</span>
<a id="go/appbuilder/agent_builder_data.go-80" name="go/appbuilder/agent_builder_data.go-80"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/agent_builder_data.go-81" name="go/appbuilder/agent_builder_data.go-81"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/agent_builder_data.go-82" name="go/appbuilder/agent_builder_data.go-82"></a><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-83" name="go/appbuilder/agent_builder_data.go-83"></a>
<a id="go/appbuilder/agent_builder_data.go-84" name="go/appbuilder/agent_builder_data.go-84"></a><span class="c1">// AgentBuilderOnceIterator 非流式返回时对应的迭代器，只可迭代一次</span>
<a id="go/appbuilder/agent_builder_data.go-85" name="go/appbuilder/agent_builder_data.go-85"></a><span class="kd">type</span><span class="w"> </span><span class="nx">AgentBuilderOnceIterator</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/agent_builder_data.go-87" name="go/appbuilder/agent_builder_data.go-87"></a><span class="w">	</span><span class="nx">requestID</span><span class="w"> </span><span class="kt">string</span>
<a id="go/appbuilder/agent_builder_data.go-88" name="go/appbuilder/agent_builder_data.go-88"></a><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-89" name="go/appbuilder/agent_builder_data.go-89"></a>
<a id="go/appbuilder/agent_builder_data.go-90" name="go/appbuilder/agent_builder_data.go-90"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AgentBuilderOnceIterator</span><span class="p">)</span><span class="w"> </span><span class="nx">Next</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">AgentBuilderAnswer</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/agent_builder_data.go-91" name="go/appbuilder/agent_builder_data.go-91"></a><span class="hll"><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder_data.go-92" name="go/appbuilder/agent_builder_data.go-92"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/agent_builder_data.go-93" name="go/appbuilder/agent_builder_data.go-93"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder_data.go-94" name="go/appbuilder/agent_builder_data.go-94"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-95" name="go/appbuilder/agent_builder_data.go-95"></a><span class="hll"><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/agent_builder_data.go-96" name="go/appbuilder/agent_builder_data.go-96"></a><span class="hll"><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="nx">AgentBuilderRawResponse</span>
</span><a id="go/appbuilder/agent_builder_data.go-97" name="go/appbuilder/agent_builder_data.go-97"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/agent_builder_data.go-98" name="go/appbuilder/agent_builder_data.go-98"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder_data.go-99" name="go/appbuilder/agent_builder_data.go-99"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/agent_builder_data.go-100" name="go/appbuilder/agent_builder_data.go-100"></a><span class="hll"><span class="w">	</span><span class="nx">answer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AgentBuilderAnswer</span><span class="p">{}</span>
</span><a id="go/appbuilder/agent_builder_data.go-101" name="go/appbuilder/agent_builder_data.go-101"></a><span class="hll"><span class="w">	</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
</span><a id="go/appbuilder/agent_builder_data.go-102" name="go/appbuilder/agent_builder_data.go-102"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/agent_builder_data.go-103" name="go/appbuilder/agent_builder_data.go-103"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/app_builder_client.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-34" name="go/appbuilder/app_builder_client.go-34"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-35" name="go/appbuilder/app_builder_client.go-35"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-36" name="go/appbuilder/app_builder_client.go-36"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/apps&quot;</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-37" name="go/appbuilder/app_builder_client.go-37"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-38" name="go/appbuilder/app_builder_client.go-38"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-39" name="go/appbuilder/app_builder_client.go-39"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-40" name="go/appbuilder/app_builder_client.go-40"></a>
<a id="go/appbuilder/app_builder_client.go-41" name="go/appbuilder/app_builder_client.go-41"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/app_builder_client.go-42" name="go/appbuilder/app_builder_client.go-42"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;GET&quot;</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-54" name="go/appbuilder/app_builder_client.go-54"></a><span class="w">		</span><span class="k">case</span><span class="w"> </span><span class="kt">string</span><span class="p">:</span>
<a id="go/appbuilder/app_builder_client.go-55" name="go/appbuilder/app_builder_client.go-55"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-56" name="go/appbuilder/app_builder_client.go-56"></a><span class="w">				</span><span class="k">continue</span>
<a id="go/appbuilder/app_builder_client.go-57" name="go/appbuilder/app_builder_client.go-57"></a><span class="w">			</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-58" name="go/appbuilder/app_builder_client.go-58"></a><span class="hll"><span class="w">			</span><span class="nx">params</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-59" name="go/appbuilder/app_builder_client.go-59"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-60" name="go/appbuilder/app_builder_client.go-60"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-61" name="go/appbuilder/app_builder_client.go-61"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">.</span><span class="nx">RawQuery</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">Encode</span><span class="p">()</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-66" name="go/appbuilder/app_builder_client.go-66"></a><span class="w">		</span><span class="nx">client</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span><span class="nx">Timeout</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-67" name="go/appbuilder/app_builder_client.go-67"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-68" name="go/appbuilder/app_builder_client.go-68"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-69" name="go/appbuilder/app_builder_client.go-69"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-70" name="go/appbuilder/app_builder_client.go-70"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-71" name="go/appbuilder/app_builder_client.go-71"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-72" name="go/appbuilder/app_builder_client.go-72"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-73" name="go/appbuilder/app_builder_client.go-73"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-74" name="go/appbuilder/app_builder_client.go-74"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-75" name="go/appbuilder/app_builder_client.go-75"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-76" name="go/appbuilder/app_builder_client.go-76"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-77" name="go/appbuilder/app_builder_client.go-77"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-78" name="go/appbuilder/app_builder_client.go-78"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-79" name="go/appbuilder/app_builder_client.go-79"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-80" name="go/appbuilder/app_builder_client.go-80"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-81" name="go/appbuilder/app_builder_client.go-81"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">GetAppListResponse</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-82" name="go/appbuilder/app_builder_client.go-82"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-83" name="go/appbuilder/app_builder_client.go-83"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-84" name="go/appbuilder/app_builder_client.go-84"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-85" name="go/appbuilder/app_builder_client.go-85"></a>
<a id="go/appbuilder/app_builder_client.go-86" name="go/appbuilder/app_builder_client.go-86"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Data</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/app_builder_client.go-87" name="go/appbuilder/app_builder_client.go-87"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-87" name="go/appbuilder/app_builder_client.go-87"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-88" name="go/appbuilder/app_builder_client.go-88"></a>
<a id="go/appbuilder/app_builder_client.go-89" name="go/appbuilder/app_builder_client.go-89"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewAppBuilderClient</span><span class="p">(</span><span class="nx">appID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">AppBuilderClient</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-90" name="go/appbuilder/app_builder_client.go-90"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">appID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-91" name="go/appbuilder/app_builder_client.go-91"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;appID is empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-92" name="go/appbuilder/app_builder_client.go-92"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-93" name="go/appbuilder/app_builder_client.go-93"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-94" name="go/appbuilder/app_builder_client.go-94"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;config is nil&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-95" name="go/appbuilder/app_builder_client.go-95"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-96" name="go/appbuilder/app_builder_client.go-96"></a><span class="w">	</span><span class="nx">client</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">HTTPClient</span>
<a id="go/appbuilder/app_builder_client.go-97" name="go/appbuilder/app_builder_client.go-97"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-98" name="go/appbuilder/app_builder_client.go-98"></a><span class="w">		</span><span class="nx">client</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span><span class="nx">Timeout</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-107" name="go/appbuilder/app_builder_client.go-107"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-108" name="go/appbuilder/app_builder_client.go-108"></a>
<a id="go/appbuilder/app_builder_client.go-109" name="go/appbuilder/app_builder_client.go-109"></a><span class="c1">// 在 AppBuilderClient 结构体中添加 Getter 方法</span>
<a id="go/appbuilder/app_builder_client.go-110" name="go/appbuilder/app_builder_client.go-110"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AppBuilderClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetSdkConfig</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-111" name="go/appbuilder/app_builder_client.go-111"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span>
</span><a id="go/appbuilder/app_builder_client.go-112" name="go/appbuilder/app_builder_client.go-112"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-113" name="go/appbuilder/app_builder_client.go-113"></a>
<a id="go/appbuilder/app_builder_client.go-114" name="go/appbuilder/app_builder_client.go-114"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AppBuilderClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetClient</span><span class="p">()</span><span class="w"> </span><span class="nx">HTTPClient</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-115" name="go/appbuilder/app_builder_client.go-115"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span>
</span><a id="go/appbuilder/app_builder_client.go-116" name="go/appbuilder/app_builder_client.go-116"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-117" name="go/appbuilder/app_builder_client.go-117"></a>
<a id="go/appbuilder/app_builder_client.go-118" name="go/appbuilder/app_builder_client.go-118"></a><span class="kd">type</span><span class="w"> </span><span class="nx">HTTPClient</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-119" name="go/appbuilder/app_builder_client.go-119"></a><span class="w">	</span><span class="nx">Do</span><span class="p">(</span><span class="nx">req</span><span class="w"> </span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-123" name="go/appbuilder/app_builder_client.go-123"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-124" name="go/appbuilder/app_builder_client.go-124"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-125" name="go/appbuilder/app_builder_client.go-125"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation&quot;</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-126" name="go/appbuilder/app_builder_client.go-126"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-127" name="go/appbuilder/app_builder_client.go-127"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-128" name="go/appbuilder/app_builder_client.go-128"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-129" name="go/appbuilder/app_builder_client.go-129"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/app_builder_client.go-130" name="go/appbuilder/app_builder_client.go-130"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/app_builder_client.go-131" name="go/appbuilder/app_builder_client.go-131"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-135" name="go/appbuilder/app_builder_client.go-135"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/app_builder_client.go-136" name="go/appbuilder/app_builder_client.go-136"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-137" name="go/appbuilder/app_builder_client.go-137"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-138" name="go/appbuilder/app_builder_client.go-138"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-139" name="go/appbuilder/app_builder_client.go-139"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-140" name="go/appbuilder/app_builder_client.go-140"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-141" name="go/appbuilder/app_builder_client.go-141"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-142" name="go/appbuilder/app_builder_client.go-142"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-143" name="go/appbuilder/app_builder_client.go-143"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-144" name="go/appbuilder/app_builder_client.go-144"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-145" name="go/appbuilder/app_builder_client.go-145"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-146" name="go/appbuilder/app_builder_client.go-146"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-147" name="go/appbuilder/app_builder_client.go-147"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-148" name="go/appbuilder/app_builder_client.go-148"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-149" name="go/appbuilder/app_builder_client.go-149"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-150" name="go/appbuilder/app_builder_client.go-150"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-151" name="go/appbuilder/app_builder_client.go-151"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-152" name="go/appbuilder/app_builder_client.go-152"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-153" name="go/appbuilder/app_builder_client.go-153"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-154" name="go/appbuilder/app_builder_client.go-154"></a><span class="w">	</span><span class="nx">val</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rsp</span><span class="p">[</span><span class="s">&quot;conversation_id&quot;</span><span class="p">]</span>
<a id="go/appbuilder/app_builder_client.go-155" name="go/appbuilder/app_builder_client.go-155"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-156" name="go/appbuilder/app_builder_client.go-156"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/app_builder_client.go-157" name="go/appbuilder/app_builder_client.go-157"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-158" name="go/appbuilder/app_builder_client.go-158"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">val</span><span class="p">.(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/app_builder_client.go-159" name="go/appbuilder/app_builder_client.go-159"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-166" name="go/appbuilder/app_builder_client.go-166"></a><span class="w">	</span><span class="nx">conversationIDPart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormField</span><span class="p">(</span><span class="s">&quot;conversation_id&quot;</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-167" name="go/appbuilder/app_builder_client.go-167"></a><span class="w">	</span><span class="nx">conversationIDPart</span><span class="p">.</span><span class="nx">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">conversationID</span><span class="p">))</span>
<a id="go/appbuilder/app_builder_client.go-168" name="go/appbuilder/app_builder_client.go-168"></a><span class="w">	</span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">filePath</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-169" name="go/appbuilder/app_builder_client.go-169"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-170" name="go/appbuilder/app_builder_client.go-170"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-171" name="go/appbuilder/app_builder_client.go-171"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-172" name="go/appbuilder/app_builder_client.go-172"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-173" name="go/appbuilder/app_builder_client.go-173"></a><span class="w">	</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormFile</span><span class="p">(</span><span class="s">&quot;file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Base</span><span class="p">(</span><span class="nx">filePath</span><span class="p">))</span>
<a id="go/appbuilder/app_builder_client.go-174" name="go/appbuilder/app_builder_client.go-174"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">Copy</span><span class="p">(</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-175" name="go/appbuilder/app_builder_client.go-175"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-176" name="go/appbuilder/app_builder_client.go-176"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-177" name="go/appbuilder/app_builder_client.go-177"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-178" name="go/appbuilder/app_builder_client.go-178"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-179" name="go/appbuilder/app_builder_client.go-179"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/file/upload&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-177" name="go/appbuilder/app_builder_client.go-177"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-178" name="go/appbuilder/app_builder_client.go-178"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-179" name="go/appbuilder/app_builder_client.go-179"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/file/upload&quot;</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-180" name="go/appbuilder/app_builder_client.go-180"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-181" name="go/appbuilder/app_builder_client.go-181"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-182" name="go/appbuilder/app_builder_client.go-182"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-183" name="go/appbuilder/app_builder_client.go-183"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/app_builder_client.go-184" name="go/appbuilder/app_builder_client.go-184"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/app_builder_client.go-185" name="go/appbuilder/app_builder_client.go-185"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-187" name="go/appbuilder/app_builder_client.go-187"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
<a id="go/appbuilder/app_builder_client.go-188" name="go/appbuilder/app_builder_client.go-188"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">Bytes</span><span class="p">()))</span>
<a id="go/appbuilder/app_builder_client.go-189" name="go/appbuilder/app_builder_client.go-189"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-190" name="go/appbuilder/app_builder_client.go-190"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-191" name="go/appbuilder/app_builder_client.go-191"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-192" name="go/appbuilder/app_builder_client.go-192"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-193" name="go/appbuilder/app_builder_client.go-193"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-194" name="go/appbuilder/app_builder_client.go-194"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-195" name="go/appbuilder/app_builder_client.go-195"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-196" name="go/appbuilder/app_builder_client.go-196"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-197" name="go/appbuilder/app_builder_client.go-197"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-198" name="go/appbuilder/app_builder_client.go-198"></a><span class="w">	</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-199" name="go/appbuilder/app_builder_client.go-199"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-200" name="go/appbuilder/app_builder_client.go-200"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-201" name="go/appbuilder/app_builder_client.go-201"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-202" name="go/appbuilder/app_builder_client.go-202"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-203" name="go/appbuilder/app_builder_client.go-203"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-204" name="go/appbuilder/app_builder_client.go-204"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-205" name="go/appbuilder/app_builder_client.go-205"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-206" name="go/appbuilder/app_builder_client.go-206"></a><span class="w">	</span><span class="nx">val</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rsp</span><span class="p">[</span><span class="s">&quot;id&quot;</span><span class="p">]</span>
<a id="go/appbuilder/app_builder_client.go-207" name="go/appbuilder/app_builder_client.go-207"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-208" name="go/appbuilder/app_builder_client.go-208"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">body</span><span class="p">))</span>
</span><a id="go/appbuilder/app_builder_client.go-209" name="go/appbuilder/app_builder_client.go-209"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-210" name="go/appbuilder/app_builder_client.go-210"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">val</span><span class="p">.(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/app_builder_client.go-211" name="go/appbuilder/app_builder_client.go-211"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-211" name="go/appbuilder/app_builder_client.go-211"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-212" name="go/appbuilder/app_builder_client.go-212"></a>
<a id="go/appbuilder/app_builder_client.go-213" name="go/appbuilder/app_builder_client.go-213"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AppBuilderClient</span><span class="p">)</span><span class="w"> </span><span class="nx">Run</span><span class="p">(</span><span class="nx">conversationID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">query</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">fileIDS</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">AppBuilderClientIterator</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-214" name="go/appbuilder/app_builder_client.go-214"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">conversationID</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-215" name="go/appbuilder/app_builder_client.go-215"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;conversationID mustn&#39;t be empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-216" name="go/appbuilder/app_builder_client.go-216"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-217" name="go/appbuilder/app_builder_client.go-217"></a><span class="w">	</span><span class="nx">m</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-218" name="go/appbuilder/app_builder_client.go-218"></a><span class="w">		</span><span class="s">&quot;app_id&quot;</span><span class="p">:</span><span class="w">          </span><span class="nx">t</span><span class="p">.</span><span class="nx">appID</span><span class="p">,</span>
<a id="go/appbuilder/app_builder_client.go-219" name="go/appbuilder/app_builder_client.go-219"></a><span class="w">		</span><span class="s">&quot;conversation_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">conversationID</span><span class="p">,</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-224" name="go/appbuilder/app_builder_client.go-224"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-225" name="go/appbuilder/app_builder_client.go-225"></a>
<a id="go/appbuilder/app_builder_client.go-226" name="go/appbuilder/app_builder_client.go-226"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/runs&quot;</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-227" name="go/appbuilder/app_builder_client.go-227"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-228" name="go/appbuilder/app_builder_client.go-228"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-229" name="go/appbuilder/app_builder_client.go-229"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-230" name="go/appbuilder/app_builder_client.go-230"></a>
<a id="go/appbuilder/app_builder_client.go-231" name="go/appbuilder/app_builder_client.go-231"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/app_builder_client.go-232" name="go/appbuilder/app_builder_client.go-232"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-240" name="go/appbuilder/app_builder_client.go-240"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-241" name="go/appbuilder/app_builder_client.go-241"></a>
<a id="go/appbuilder/app_builder_client.go-242" name="go/appbuilder/app_builder_client.go-242"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-243" name="go/appbuilder/app_builder_client.go-243"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-244" name="go/appbuilder/app_builder_client.go-244"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-245" name="go/appbuilder/app_builder_client.go-245"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-246" name="go/appbuilder/app_builder_client.go-246"></a>
<a id="go/appbuilder/app_builder_client.go-247" name="go/appbuilder/app_builder_client.go-247"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-248" name="go/appbuilder/app_builder_client.go-248"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-249" name="go/appbuilder/app_builder_client.go-249"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-250" name="go/appbuilder/app_builder_client.go-250"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-251" name="go/appbuilder/app_builder_client.go-251"></a><span class="w">	</span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="nx">bufio</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">))</span>
<a id="go/appbuilder/app_builder_client.go-252" name="go/appbuilder/app_builder_client.go-252"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-253" name="go/appbuilder/app_builder_client.go-253"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientStreamIterator</span><span class="p">{</span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-251" name="go/appbuilder/app_builder_client.go-251"></a><span class="w">	</span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="nx">bufio</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">))</span>
<a id="go/appbuilder/app_builder_client.go-252" name="go/appbuilder/app_builder_client.go-252"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-253" name="go/appbuilder/app_builder_client.go-253"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientStreamIterator</span><span class="p">{</span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/app_builder_client.go-254" name="go/appbuilder/app_builder_client.go-254"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-255" name="go/appbuilder/app_builder_client.go-255"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientOnceIterator</span><span class="p">{</span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/app_builder_client.go-256" name="go/appbuilder/app_builder_client.go-256"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-257" name="go/appbuilder/app_builder_client.go-257"></a>
<a id="go/appbuilder/app_builder_client.go-258" name="go/appbuilder/app_builder_client.go-258"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AppBuilderClient</span><span class="p">)</span><span class="w"> </span><span class="nx">RunWithToolCall</span><span class="p">(</span><span class="nx">req</span><span class="w"> </span><span class="nx">AppBuilderClientRunRequest</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">AppBuilderClientIterator</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-259" name="go/appbuilder/app_builder_client.go-259"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">ConversationID</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-260" name="go/appbuilder/app_builder_client.go-260"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;conversationID mustn&#39;t be empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-261" name="go/appbuilder/app_builder_client.go-261"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-262" name="go/appbuilder/app_builder_client.go-262"></a>
<a id="go/appbuilder/app_builder_client.go-263" name="go/appbuilder/app_builder_client.go-263"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-263" name="go/appbuilder/app_builder_client.go-263"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client.go-264" name="go/appbuilder/app_builder_client.go-264"></a>
<a id="go/appbuilder/app_builder_client.go-265" name="go/appbuilder/app_builder_client.go-265"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/app/conversation/runs&quot;</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-266" name="go/appbuilder/app_builder_client.go-266"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-267" name="go/appbuilder/app_builder_client.go-267"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-268" name="go/appbuilder/app_builder_client.go-268"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-269" name="go/appbuilder/app_builder_client.go-269"></a>
<a id="go/appbuilder/app_builder_client.go-270" name="go/appbuilder/app_builder_client.go-270"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client.go-271" name="go/appbuilder/app_builder_client.go-271"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client.go-278" name="go/appbuilder/app_builder_client.go-278"></a>
<a id="go/appbuilder/app_builder_client.go-279" name="go/appbuilder/app_builder_client.go-279"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-280" name="go/appbuilder/app_builder_client.go-280"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-281" name="go/appbuilder/app_builder_client.go-281"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-282" name="go/appbuilder/app_builder_client.go-282"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/app_builder_client.go-283" name="go/appbuilder/app_builder_client.go-283"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-284" name="go/appbuilder/app_builder_client.go-284"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client.go-285" name="go/appbuilder/app_builder_client.go-285"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-286" name="go/appbuilder/app_builder_client.go-286"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client.go-287" name="go/appbuilder/app_builder_client.go-287"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-288" name="go/appbuilder/app_builder_client.go-288"></a><span class="w">	</span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="nx">bufio</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">))</span>
<a id="go/appbuilder/app_builder_client.go-289" name="go/appbuilder/app_builder_client.go-289"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">Stream</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client.go-290" name="go/appbuilder/app_builder_client.go-290"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientStreamIterator</span><span class="p">{</span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/app_builder_client.go-291" name="go/appbuilder/app_builder_client.go-291"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client.go-292" name="go/appbuilder/app_builder_client.go-292"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientOnceIterator</span><span class="p">{</span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/app_builder_client.go-293" name="go/appbuilder/app_builder_client.go-293"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/app_builder_client_data.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client_data.go-266" name="go/appbuilder/app_builder_client_data.go-266"></a>
<a id="go/appbuilder/app_builder_client_data.go-267" name="go/appbuilder/app_builder_client_data.go-267"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">AppBuilderClientStreamIterator</span><span class="p">)</span><span class="w"> </span><span class="nx">Next</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">AppBuilderClientAnswer</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client_data.go-268" name="go/appbuilder/app_builder_client_data.go-268"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">r</span><span class="p">.</span><span class="nx">ReadMessageLine</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client_data.go-269" name="go/appbuilder/app_builder_client_data.go-269"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!(</span><span class="nx">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client_data.go-270" name="go/appbuilder/app_builder_client_data.go-270"></a><span class="hll"><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/app_builder_client_data.go-271" name="go/appbuilder/app_builder_client_data.go-271"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client_data.go-272" name="go/appbuilder/app_builder_client_data.go-272"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-273" name="go/appbuilder/app_builder_client_data.go-273"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client_data.go-274" name="go/appbuilder/app_builder_client_data.go-274"></a><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client_data.go-275" name="go/appbuilder/app_builder_client_data.go-275"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client_data.go-276" name="go/appbuilder/app_builder_client_data.go-276"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-277" name="go/appbuilder/app_builder_client_data.go-277"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">HasPrefix</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;data:&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client_data.go-278" name="go/appbuilder/app_builder_client_data.go-278"></a><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="nx">AppBuilderClientRawResponse</span>
<a id="go/appbuilder/app_builder_client_data.go-279" name="go/appbuilder/app_builder_client_data.go-279"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="mi">5</span><span class="p">:],</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client_data.go-280" name="go/appbuilder/app_builder_client_data.go-280"></a><span class="hll"><span class="w">			</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/app_builder_client_data.go-281" name="go/appbuilder/app_builder_client_data.go-281"></a><span class="hll"><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client_data.go-282" name="go/appbuilder/app_builder_client_data.go-282"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-283" name="go/appbuilder/app_builder_client_data.go-283"></a><span class="w">		</span><span class="nx">answer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientAnswer</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client_data.go-284" name="go/appbuilder/app_builder_client_data.go-284"></a><span class="w">		</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client_data.go-285" name="go/appbuilder/app_builder_client_data.go-285"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client_data.go-284" name="go/appbuilder/app_builder_client_data.go-284"></a><span class="w">		</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client_data.go-285" name="go/appbuilder/app_builder_client_data.go-285"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/app_builder_client_data.go-286" name="go/appbuilder/app_builder_client_data.go-286"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-287" name="go/appbuilder/app_builder_client_data.go-287"></a><span class="w">	</span><span class="c1">// 非SSE格式关闭连接，并返回数据</span>
<a id="go/appbuilder/app_builder_client_data.go-288" name="go/appbuilder/app_builder_client_data.go-288"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/app_builder_client_data.go-289" name="go/appbuilder/app_builder_client_data.go-289"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/app_builder_client_data.go-290" name="go/appbuilder/app_builder_client_data.go-290"></a><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-291" name="go/appbuilder/app_builder_client_data.go-291"></a>
<a id="go/appbuilder/app_builder_client_data.go-292" name="go/appbuilder/app_builder_client_data.go-292"></a><span class="c1">// AppBuilderClientOnceIterator 非流式返回时对应的迭代器，只可迭代一次</span>
<a id="go/appbuilder/app_builder_client_data.go-293" name="go/appbuilder/app_builder_client_data.go-293"></a><span class="kd">type</span><span class="w"> </span><span class="nx">AppBuilderClientOnceIterator</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/app_builder_client_data.go-302" name="go/appbuilder/app_builder_client_data.go-302"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-303" name="go/appbuilder/app_builder_client_data.go-303"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/app_builder_client_data.go-304" name="go/appbuilder/app_builder_client_data.go-304"></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="nx">AppBuilderClientRawResponse</span>
<a id="go/appbuilder/app_builder_client_data.go-305" name="go/appbuilder/app_builder_client_data.go-305"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/app_builder_client_data.go-306" name="go/appbuilder/app_builder_client_data.go-306"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/app_builder_client_data.go-307" name="go/appbuilder/app_builder_client_data.go-307"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/app_builder_client_data.go-308" name="go/appbuilder/app_builder_client_data.go-308"></a><span class="w">	</span><span class="nx">answer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">AppBuilderClientAnswer</span><span class="p">{}</span>
<a id="go/appbuilder/app_builder_client_data.go-309" name="go/appbuilder/app_builder_client_data.go-309"></a><span class="w">	</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/app_builder_client_data.go-310" name="go/appbuilder/app_builder_client_data.go-310"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/config.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/config.go-63" name="go/appbuilder/config.go-63"></a><span class="w">	</span><span class="nx">openAPIPrefix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">getEnvWithDefault</span><span class="p">(</span><span class="nx">ConsoleOpenAPIPrefix</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">DefaultConsoleOpenAPIPrefix</span><span class="p">)</span>
<a id="go/appbuilder/config.go-64" name="go/appbuilder/config.go-64"></a>
<a id="go/appbuilder/config.go-65" name="go/appbuilder/config.go-65"></a><span class="w">	</span><span class="nx">secretKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">getEnvWithDefault</span><span class="p">(</span><span class="nx">SecretKey</span><span class="p">,</span><span class="w"> </span><span class="nx">secretKey</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<a id="go/appbuilder/config.go-66" name="go/appbuilder/config.go-66"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">secretKey</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-67" name="go/appbuilder/config.go-67"></a><span class="hll"><span class="w">		</span><span class="nx">log</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Error: secret key is empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/config.go-68" name="go/appbuilder/config.go-68"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/config.go-69" name="go/appbuilder/config.go-69"></a><span class="w">	</span><span class="nx">secretKeyPrefix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">getEnvWithDefault</span><span class="p">(</span><span class="nx">SecretKeyPrefix</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">DefaultSecretKeyPrefix</span><span class="p">)</span>
<a id="go/appbuilder/config.go-70" name="go/appbuilder/config.go-70"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">strings</span><span class="p">.</span><span class="nx">HasPrefix</span><span class="p">(</span><span class="nx">secretKey</span><span class="p">,</span><span class="w"> </span><span class="nx">secretKeyPrefix</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-71" name="go/appbuilder/config.go-71"></a><span class="w">		</span><span class="nx">secretKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">secretKeyPrefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">secretKey</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/config.go-79" name="go/appbuilder/config.go-79"></a><span class="w">		</span><span class="nx">SecretKey</span><span class="p">:</span><span class="w">             </span><span class="nx">secretKey</span><span class="p">,</span>
<a id="go/appbuilder/config.go-80" name="go/appbuilder/config.go-80"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/config.go-81" name="go/appbuilder/config.go-81"></a><span class="w">	</span><span class="nx">logFile</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">Getenv</span><span class="p">(</span><span class="s">&quot;APPBUILDER_LOGFILE&quot;</span><span class="p">)</span>
<a id="go/appbuilder/config.go-82" name="go/appbuilder/config.go-82"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">logFile</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-83" name="go/appbuilder/config.go-83"></a><span class="hll"><span class="w">		</span><span class="nx">f</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">OpenFile</span><span class="p">(</span><span class="nx">logFile</span><span class="p">,</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="o">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="o">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">,</span><span class="w"> </span><span class="mo">0644</span><span class="p">)</span>
</span><a id="go/appbuilder/config.go-84" name="go/appbuilder/config.go-84"></a><span class="hll"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/config.go-85" name="go/appbuilder/config.go-85"></a><span class="hll"><span class="w">			</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">logger</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">log</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">log</span><span class="p">.</span><span class="nx">LstdFlags</span><span class="p">)</span>
</span><a id="go/appbuilder/config.go-86" name="go/appbuilder/config.go-86"></a><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-87" name="go/appbuilder/config.go-87"></a><span class="hll"><span class="w">			</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">logger</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">log</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">log</span><span class="p">.</span><span class="nx">LstdFlags</span><span class="p">)</span>
</span><a id="go/appbuilder/config.go-88" name="go/appbuilder/config.go-88"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/config.go-89" name="go/appbuilder/config.go-89"></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-90" name="go/appbuilder/config.go-90"></a><span class="w">		</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">logger</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">log</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">log</span><span class="p">.</span><span class="nx">LstdFlags</span><span class="p">)</span>
<a id="go/appbuilder/config.go-91" name="go/appbuilder/config.go-91"></a><span class="w">	</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/config.go-135" name="go/appbuilder/config.go-135"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="nx">ServiceURL</span><span class="p">(</span><span class="nx">suffix</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">url</span><span class="p">.</span><span class="nx">URL</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-136" name="go/appbuilder/config.go-136"></a><span class="w">	</span><span class="c1">// 解析 GatewayURL</span>
<a id="go/appbuilder/config.go-137" name="go/appbuilder/config.go-137"></a><span class="w">	</span><span class="nx">parsedURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">GatewayURL</span><span class="p">)</span>
<a id="go/appbuilder/config.go-138" name="go/appbuilder/config.go-138"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-139" name="go/appbuilder/config.go-139"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/config.go-140" name="go/appbuilder/config.go-140"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/config.go-141" name="go/appbuilder/config.go-141"></a>
<a id="go/appbuilder/config.go-142" name="go/appbuilder/config.go-142"></a><span class="w">	</span><span class="c1">// 使用 path.Join 拼接路径</span>
<a id="go/appbuilder/config.go-143" name="go/appbuilder/config.go-143"></a><span class="w">	</span><span class="nx">parsedURL</span><span class="p">.</span><span class="nx">Path</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">path</span><span class="p">.</span><span class="nx">Join</span><span class="p">(</span><span class="nx">parsedURL</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span><span class="w"> </span><span class="nx">suffix</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/config.go-144" name="go/appbuilder/config.go-144"></a>
<a id="go/appbuilder/config.go-145" name="go/appbuilder/config.go-145"></a><span class="w">	</span><span class="c1">// 将路径直接解析为最终 URL</span>
<a id="go/appbuilder/config.go-146" name="go/appbuilder/config.go-146"></a><span class="w">	</span><span class="nx">endpoint</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">suffix</span><span class="p">)</span>
<a id="go/appbuilder/config.go-147" name="go/appbuilder/config.go-147"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-148" name="go/appbuilder/config.go-148"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/config.go-149" name="go/appbuilder/config.go-149"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/config.go-150" name="go/appbuilder/config.go-150"></a>
<a id="go/appbuilder/config.go-151" name="go/appbuilder/config.go-151"></a><span class="w">	</span><span class="c1">// 解析相对路径</span>
<a id="go/appbuilder/config.go-152" name="go/appbuilder/config.go-152"></a><span class="w">	</span><span class="nx">parsedURL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">parsedURL</span><span class="p">.</span><span class="nx">ResolveReference</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/config.go-164" name="go/appbuilder/config.go-164"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="nx">formatURL</span><span class="p">(</span><span class="nx">absolutePath</span><span class="p">,</span><span class="w"> </span><span class="nx">suffix</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">url</span><span class="p">.</span><span class="nx">URL</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-165" name="go/appbuilder/config.go-165"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">logger</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Service URL %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">absolutePath</span><span class="p">)</span>
<a id="go/appbuilder/config.go-166" name="go/appbuilder/config.go-166"></a><span class="w">	</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">absolutePath</span><span class="p">)</span>
<a id="go/appbuilder/config.go-167" name="go/appbuilder/config.go-167"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-168" name="go/appbuilder/config.go-168"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/config.go-169" name="go/appbuilder/config.go-169"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/config.go-170" name="go/appbuilder/config.go-170"></a>
<a id="go/appbuilder/config.go-171" name="go/appbuilder/config.go-171"></a><span class="w">	</span><span class="nx">endpoint</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">suffix</span><span class="p">)</span>
<a id="go/appbuilder/config.go-172" name="go/appbuilder/config.go-172"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-173" name="go/appbuilder/config.go-173"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/config.go-174" name="go/appbuilder/config.go-174"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/config.go-175" name="go/appbuilder/config.go-175"></a>
<a id="go/appbuilder/config.go-176" name="go/appbuilder/config.go-176"></a><span class="w">	</span><span class="nx">url</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">ResolveReference</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/config.go-198" name="go/appbuilder/config.go-198"></a>
<a id="go/appbuilder/config.go-199" name="go/appbuilder/config.go-199"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;POST&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-200" name="go/appbuilder/config.go-200"></a><span class="w">		</span><span class="nx">bodyBytes</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/config.go-201" name="go/appbuilder/config.go-201"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/config.go-202" name="go/appbuilder/config.go-202"></a><span class="hll"><span class="w">			</span><span class="nx">t</span><span class="p">.</span><span class="nx">logger</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Failed to read request body:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/config.go-203" name="go/appbuilder/config.go-203"></a><span class="hll"><span class="w">			</span><span class="k">return</span>
</span><a id="go/appbuilder/config.go-204" name="go/appbuilder/config.go-204"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/config.go-205" name="go/appbuilder/config.go-205"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/config.go-206" name="go/appbuilder/config.go-206"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">strings</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">bodyBytes</span><span class="p">)))</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/dataset.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-29" name="go/appbuilder/dataset.go-29"></a>
<a id="go/appbuilder/dataset.go-30" name="go/appbuilder/dataset.go-30"></a><span class="c1">// Deprecated: 已废弃，请使用 NewKnowledgeBase</span>
<a id="go/appbuilder/dataset.go-31" name="go/appbuilder/dataset.go-31"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewDataset</span><span class="p">(</span><span class="nx">config</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">Dataset</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-32" name="go/appbuilder/dataset.go-32"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-33" name="go/appbuilder/dataset.go-33"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;invalid config&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-34" name="go/appbuilder/dataset.go-34"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-35" name="go/appbuilder/dataset.go-35"></a><span class="w">	</span><span class="nx">client</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">HTTPClient</span>
<a id="go/appbuilder/dataset.go-36" name="go/appbuilder/dataset.go-36"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-37" name="go/appbuilder/dataset.go-37"></a><span class="w">		</span><span class="nx">client</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span><span class="nx">Timeout</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-48" name="go/appbuilder/dataset.go-48"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-49" name="go/appbuilder/dataset.go-49"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeader</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-50" name="go/appbuilder/dataset.go-50"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURL</span><span class="p">(</span><span class="s">&quot;/api/v1/ai_engine/agi_platform/v1/datasets/create&quot;</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-51" name="go/appbuilder/dataset.go-51"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-52" name="go/appbuilder/dataset.go-52"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-53" name="go/appbuilder/dataset.go-53"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-54" name="go/appbuilder/dataset.go-54"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/dataset.go-55" name="go/appbuilder/dataset.go-55"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/dataset.go-56" name="go/appbuilder/dataset.go-56"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-60" name="go/appbuilder/dataset.go-60"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/dataset.go-61" name="go/appbuilder/dataset.go-61"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-62" name="go/appbuilder/dataset.go-62"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-63" name="go/appbuilder/dataset.go-63"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-64" name="go/appbuilder/dataset.go-64"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-65" name="go/appbuilder/dataset.go-65"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-66" name="go/appbuilder/dataset.go-66"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-67" name="go/appbuilder/dataset.go-67"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-68" name="go/appbuilder/dataset.go-68"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-69" name="go/appbuilder/dataset.go-69"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-70" name="go/appbuilder/dataset.go-70"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-71" name="go/appbuilder/dataset.go-71"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-72" name="go/appbuilder/dataset.go-72"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-73" name="go/appbuilder/dataset.go-73"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-74" name="go/appbuilder/dataset.go-74"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-75" name="go/appbuilder/dataset.go-75"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">DatasetResponse</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-76" name="go/appbuilder/dataset.go-76"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-77" name="go/appbuilder/dataset.go-77"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-78" name="go/appbuilder/dataset.go-78"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-79" name="go/appbuilder/dataset.go-79"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-80" name="go/appbuilder/dataset.go-80"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, content=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/dataset.go-81" name="go/appbuilder/dataset.go-81"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-82" name="go/appbuilder/dataset.go-82"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Result</span><span class="p">[</span><span class="s">&quot;id&quot;</span><span class="p">].(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-83" name="go/appbuilder/dataset.go-83"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-82" name="go/appbuilder/dataset.go-82"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Result</span><span class="p">[</span><span class="s">&quot;id&quot;</span><span class="p">].(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-83" name="go/appbuilder/dataset.go-83"></a><span class="p">}</span>
<a id="go/appbuilder/dataset.go-84" name="go/appbuilder/dataset.go-84"></a>
<a id="go/appbuilder/dataset.go-85" name="go/appbuilder/dataset.go-85"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">Dataset</span><span class="p">)</span><span class="w"> </span><span class="nx">BatchUploadLocaleFile</span><span class="p">(</span><span class="nx">datasetID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">localFilePaths</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-86" name="go/appbuilder/dataset.go-86"></a><span class="hll"><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">fileIDs</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span><a id="go/appbuilder/dataset.go-87" name="go/appbuilder/dataset.go-87"></a><span class="hll"><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">localFilePath</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">localFilePaths</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/dataset.go-88" name="go/appbuilder/dataset.go-88"></a><span class="hll"><span class="w">		</span><span class="nx">fileID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">uploadLocalFile</span><span class="p">(</span><span class="nx">localFilePath</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-89" name="go/appbuilder/dataset.go-89"></a><span class="hll"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/dataset.go-90" name="go/appbuilder/dataset.go-90"></a><span class="hll"><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-91" name="go/appbuilder/dataset.go-91"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-92" name="go/appbuilder/dataset.go-92"></a><span class="hll"><span class="w">		</span><span class="nx">fileIDs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">fileIDs</span><span class="p">,</span><span class="w"> </span><span class="nx">fileID</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-93" name="go/appbuilder/dataset.go-93"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-94" name="go/appbuilder/dataset.go-94"></a><span class="hll"><span class="w">	</span><span class="nx">documentIDS</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">addFileToDataset</span><span class="p">(</span><span class="nx">datasetID</span><span class="p">,</span><span class="w"> </span><span class="nx">fileIDs</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-95" name="go/appbuilder/dataset.go-95"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/dataset.go-96" name="go/appbuilder/dataset.go-96"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-97" name="go/appbuilder/dataset.go-97"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-98" name="go/appbuilder/dataset.go-98"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">documentIDS</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/dataset.go-99" name="go/appbuilder/dataset.go-99"></a><span class="p">}</span>
<a id="go/appbuilder/dataset.go-100" name="go/appbuilder/dataset.go-100"></a>
<a id="go/appbuilder/dataset.go-101" name="go/appbuilder/dataset.go-101"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">Dataset</span><span class="p">)</span><span class="w"> </span><span class="nx">UploadLocalFile</span><span class="p">(</span><span class="nx">datasetID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">localFilePath</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-102" name="go/appbuilder/dataset.go-102"></a><span class="w">	</span><span class="nx">fileID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">uploadLocalFile</span><span class="p">(</span><span class="nx">localFilePath</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-100" name="go/appbuilder/dataset.go-100"></a>
<a id="go/appbuilder/dataset.go-101" name="go/appbuilder/dataset.go-101"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">Dataset</span><span class="p">)</span><span class="w"> </span><span class="nx">UploadLocalFile</span><span class="p">(</span><span class="nx">datasetID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">localFilePath</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-102" name="go/appbuilder/dataset.go-102"></a><span class="w">	</span><span class="nx">fileID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">uploadLocalFile</span><span class="p">(</span><span class="nx">localFilePath</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-103" name="go/appbuilder/dataset.go-103"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-104" name="go/appbuilder/dataset.go-104"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-105" name="go/appbuilder/dataset.go-105"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-106" name="go/appbuilder/dataset.go-106"></a><span class="w">	</span><span class="nx">documentIDs</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">addFileToDataset</span><span class="p">(</span><span class="nx">datasetID</span><span class="p">,</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="nx">fileID</span><span class="p">})</span>
<a id="go/appbuilder/dataset.go-107" name="go/appbuilder/dataset.go-107"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-108" name="go/appbuilder/dataset.go-108"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;add file failed: %v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-109" name="go/appbuilder/dataset.go-109"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-110" name="go/appbuilder/dataset.go-110"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">documentIDs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-111" name="go/appbuilder/dataset.go-111"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-114" name="go/appbuilder/dataset.go-114"></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span>
<a id="go/appbuilder/dataset.go-115" name="go/appbuilder/dataset.go-115"></a><span class="w">	</span><span class="nx">w</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">multipart</span><span class="p">.</span><span class="nx">NewWriter</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">data</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-116" name="go/appbuilder/dataset.go-116"></a><span class="w">	</span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">localFilePath</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-117" name="go/appbuilder/dataset.go-117"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-118" name="go/appbuilder/dataset.go-118"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-119" name="go/appbuilder/dataset.go-119"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-120" name="go/appbuilder/dataset.go-120"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-121" name="go/appbuilder/dataset.go-121"></a><span class="w">	</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormFile</span><span class="p">(</span><span class="s">&quot;file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Base</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">Name</span><span class="p">()))</span>
<a id="go/appbuilder/dataset.go-122" name="go/appbuilder/dataset.go-122"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">Copy</span><span class="p">(</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-123" name="go/appbuilder/dataset.go-123"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-124" name="go/appbuilder/dataset.go-124"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-125" name="go/appbuilder/dataset.go-125"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-126" name="go/appbuilder/dataset.go-126"></a>
<a id="go/appbuilder/dataset.go-127" name="go/appbuilder/dataset.go-127"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-127" name="go/appbuilder/dataset.go-127"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-128" name="go/appbuilder/dataset.go-128"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeader</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-129" name="go/appbuilder/dataset.go-129"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURL</span><span class="p">(</span><span class="s">&quot;/api/v1/ai_engine/agi_platform/v1/datasets/files/upload&quot;</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-130" name="go/appbuilder/dataset.go-130"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-131" name="go/appbuilder/dataset.go-131"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-132" name="go/appbuilder/dataset.go-132"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-133" name="go/appbuilder/dataset.go-133"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/dataset.go-134" name="go/appbuilder/dataset.go-134"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/dataset.go-135" name="go/appbuilder/dataset.go-135"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">FormDataContentType</span><span class="p">())</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-136" name="go/appbuilder/dataset.go-136"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
<a id="go/appbuilder/dataset.go-137" name="go/appbuilder/dataset.go-137"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">Bytes</span><span class="p">()))</span>
<a id="go/appbuilder/dataset.go-138" name="go/appbuilder/dataset.go-138"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-139" name="go/appbuilder/dataset.go-139"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-140" name="go/appbuilder/dataset.go-140"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-141" name="go/appbuilder/dataset.go-141"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-142" name="go/appbuilder/dataset.go-142"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-143" name="go/appbuilder/dataset.go-143"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-144" name="go/appbuilder/dataset.go-144"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-145" name="go/appbuilder/dataset.go-145"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-146" name="go/appbuilder/dataset.go-146"></a><span class="w">	</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-147" name="go/appbuilder/dataset.go-147"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-148" name="go/appbuilder/dataset.go-148"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-149" name="go/appbuilder/dataset.go-149"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-150" name="go/appbuilder/dataset.go-150"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">DatasetResponse</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-151" name="go/appbuilder/dataset.go-151"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-152" name="go/appbuilder/dataset.go-152"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-153" name="go/appbuilder/dataset.go-153"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-154" name="go/appbuilder/dataset.go-154"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-155" name="go/appbuilder/dataset.go-155"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, content=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">respData</span><span class="p">))</span>
</span><a id="go/appbuilder/dataset.go-156" name="go/appbuilder/dataset.go-156"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-157" name="go/appbuilder/dataset.go-157"></a><span class="w">	</span><span class="nx">fileID</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Result</span><span class="p">[</span><span class="s">&quot;id&quot;</span><span class="p">].(</span><span class="kt">string</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-158" name="go/appbuilder/dataset.go-158"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">fileID</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-159" name="go/appbuilder/dataset.go-159"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-161" name="go/appbuilder/dataset.go-161"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">Dataset</span><span class="p">)</span><span class="w"> </span><span class="nx">addFileToDataset</span><span class="p">(</span><span class="nx">datasetID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">fileID</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-162" name="go/appbuilder/dataset.go-162"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeader</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-163" name="go/appbuilder/dataset.go-163"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURL</span><span class="p">(</span><span class="s">&quot;/api/v1/ai_engine/agi_platform/v1/datasets/documents&quot;</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-164" name="go/appbuilder/dataset.go-164"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-165" name="go/appbuilder/dataset.go-165"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-166" name="go/appbuilder/dataset.go-166"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-167" name="go/appbuilder/dataset.go-167"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-168" name="go/appbuilder/dataset.go-168"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/dataset.go-169" name="go/appbuilder/dataset.go-169"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-176" name="go/appbuilder/dataset.go-176"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/dataset.go-177" name="go/appbuilder/dataset.go-177"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-178" name="go/appbuilder/dataset.go-178"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-179" name="go/appbuilder/dataset.go-179"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-180" name="go/appbuilder/dataset.go-180"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-181" name="go/appbuilder/dataset.go-181"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-182" name="go/appbuilder/dataset.go-182"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-183" name="go/appbuilder/dataset.go-183"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-184" name="go/appbuilder/dataset.go-184"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-185" name="go/appbuilder/dataset.go-185"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-186" name="go/appbuilder/dataset.go-186"></a><span class="w">	</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-187" name="go/appbuilder/dataset.go-187"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-188" name="go/appbuilder/dataset.go-188"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-189" name="go/appbuilder/dataset.go-189"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-190" name="go/appbuilder/dataset.go-190"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">DatasetBindResponse</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-191" name="go/appbuilder/dataset.go-191"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-192" name="go/appbuilder/dataset.go-192"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-193" name="go/appbuilder/dataset.go-193"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-194" name="go/appbuilder/dataset.go-194"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-195" name="go/appbuilder/dataset.go-195"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, content=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">respData</span><span class="p">))</span>
</span><a id="go/appbuilder/dataset.go-196" name="go/appbuilder/dataset.go-196"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-197" name="go/appbuilder/dataset.go-197"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Result</span><span class="p">.</span><span class="nx">DocumentIDs</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-198" name="go/appbuilder/dataset.go-198"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-200" name="go/appbuilder/dataset.go-200"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">Dataset</span><span class="p">)</span><span class="w"> </span><span class="nx">ListDocument</span><span class="p">(</span><span class="nx">datasetID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">limit</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">keyword</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">ListDocumentResponse</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-201" name="go/appbuilder/dataset.go-201"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeader</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-202" name="go/appbuilder/dataset.go-202"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURL</span><span class="p">(</span><span class="s">&quot;/api/v1/ai_engine/agi_platform/v1/datasets/documents/list_page&quot;</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-203" name="go/appbuilder/dataset.go-203"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-204" name="go/appbuilder/dataset.go-204"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-205" name="go/appbuilder/dataset.go-205"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-206" name="go/appbuilder/dataset.go-206"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-207" name="go/appbuilder/dataset.go-207"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/dataset.go-208" name="go/appbuilder/dataset.go-208"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-218" name="go/appbuilder/dataset.go-218"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/dataset.go-219" name="go/appbuilder/dataset.go-219"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-220" name="go/appbuilder/dataset.go-220"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-221" name="go/appbuilder/dataset.go-221"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-222" name="go/appbuilder/dataset.go-222"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-223" name="go/appbuilder/dataset.go-223"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-224" name="go/appbuilder/dataset.go-224"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-225" name="go/appbuilder/dataset.go-225"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-226" name="go/appbuilder/dataset.go-226"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-227" name="go/appbuilder/dataset.go-227"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-228" name="go/appbuilder/dataset.go-228"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-229" name="go/appbuilder/dataset.go-229"></a><span class="w">	</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-230" name="go/appbuilder/dataset.go-230"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-231" name="go/appbuilder/dataset.go-231"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-232" name="go/appbuilder/dataset.go-232"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-233" name="go/appbuilder/dataset.go-233"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ListDocumentResponse</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-234" name="go/appbuilder/dataset.go-234"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-235" name="go/appbuilder/dataset.go-235"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-236" name="go/appbuilder/dataset.go-236"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-237" name="go/appbuilder/dataset.go-237"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-238" name="go/appbuilder/dataset.go-238"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, content=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">respData</span><span class="p">))</span>
</span><a id="go/appbuilder/dataset.go-239" name="go/appbuilder/dataset.go-239"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-240" name="go/appbuilder/dataset.go-240"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-241" name="go/appbuilder/dataset.go-241"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-244" name="go/appbuilder/dataset.go-244"></a><span class="w">	</span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">datasetID</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;  &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">documentID</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-245" name="go/appbuilder/dataset.go-245"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeader</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-246" name="go/appbuilder/dataset.go-246"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURL</span><span class="p">(</span><span class="s">&quot;/api/v1/ai_engine/agi_platform/v1/datasets/document/delete&quot;</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-247" name="go/appbuilder/dataset.go-247"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-248" name="go/appbuilder/dataset.go-248"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-249" name="go/appbuilder/dataset.go-249"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-250" name="go/appbuilder/dataset.go-250"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/dataset.go-251" name="go/appbuilder/dataset.go-251"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/dataset.go-252" name="go/appbuilder/dataset.go-252"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/dataset.go-259" name="go/appbuilder/dataset.go-259"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Marshal</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-260" name="go/appbuilder/dataset.go-260"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/dataset.go-261" name="go/appbuilder/dataset.go-261"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">DefaultClient</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-262" name="go/appbuilder/dataset.go-262"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-263" name="go/appbuilder/dataset.go-263"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/dataset.go-264" name="go/appbuilder/dataset.go-264"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-265" name="go/appbuilder/dataset.go-265"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/dataset.go-266" name="go/appbuilder/dataset.go-266"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/dataset.go-267" name="go/appbuilder/dataset.go-267"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/dataset.go-268" name="go/appbuilder/dataset.go-268"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/dataset.go-269" name="go/appbuilder/dataset.go-269"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/dataset.go-270" name="go/appbuilder/dataset.go-270"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/dataset.go-271" name="go/appbuilder/dataset.go-271"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/knowledge_base.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-32" name="go/appbuilder/knowledge_base.go-32"></a><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-33" name="go/appbuilder/knowledge_base.go-33"></a>
<a id="go/appbuilder/knowledge_base.go-34" name="go/appbuilder/knowledge_base.go-34"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewKnowledgeBase</span><span class="p">(</span><span class="nx">config</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">KnowledgeBase</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-35" name="go/appbuilder/knowledge_base.go-35"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-36" name="go/appbuilder/knowledge_base.go-36"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;invalid config&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-37" name="go/appbuilder/knowledge_base.go-37"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-38" name="go/appbuilder/knowledge_base.go-38"></a><span class="w">	</span><span class="nx">client</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">HTTPClient</span>
<a id="go/appbuilder/knowledge_base.go-39" name="go/appbuilder/knowledge_base.go-39"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-40" name="go/appbuilder/knowledge_base.go-40"></a><span class="w">		</span><span class="nx">client</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span><span class="nx">Timeout</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-55" name="go/appbuilder/knowledge_base.go-55"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-56" name="go/appbuilder/knowledge_base.go-56"></a>
<a id="go/appbuilder/knowledge_base.go-57" name="go/appbuilder/knowledge_base.go-57"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledge_base/document?clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-58" name="go/appbuilder/knowledge_base.go-58"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-59" name="go/appbuilder/knowledge_base.go-59"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-60" name="go/appbuilder/knowledge_base.go-60"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-61" name="go/appbuilder/knowledge_base.go-61"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-62" name="go/appbuilder/knowledge_base.go-62"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-63" name="go/appbuilder/knowledge_base.go-63"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-66" name="go/appbuilder/knowledge_base.go-66"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-67" name="go/appbuilder/knowledge_base.go-67"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-68" name="go/appbuilder/knowledge_base.go-68"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-69" name="go/appbuilder/knowledge_base.go-69"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-70" name="go/appbuilder/knowledge_base.go-70"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-71" name="go/appbuilder/knowledge_base.go-71"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-72" name="go/appbuilder/knowledge_base.go-72"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-73" name="go/appbuilder/knowledge_base.go-73"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-74" name="go/appbuilder/knowledge_base.go-74"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-75" name="go/appbuilder/knowledge_base.go-75"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-76" name="go/appbuilder/knowledge_base.go-76"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-77" name="go/appbuilder/knowledge_base.go-77"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-78" name="go/appbuilder/knowledge_base.go-78"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-79" name="go/appbuilder/knowledge_base.go-79"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-80" name="go/appbuilder/knowledge_base.go-80"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-81" name="go/appbuilder/knowledge_base.go-81"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-82" name="go/appbuilder/knowledge_base.go-82"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-83" name="go/appbuilder/knowledge_base.go-83"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-84" name="go/appbuilder/knowledge_base.go-84"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-85" name="go/appbuilder/knowledge_base.go-85"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-86" name="go/appbuilder/knowledge_base.go-86"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">CreateDocumentResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, code=%s, message=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="p">,</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-87" name="go/appbuilder/knowledge_base.go-87"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-88" name="go/appbuilder/knowledge_base.go-88"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-89" name="go/appbuilder/knowledge_base.go-89"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-94" name="go/appbuilder/knowledge_base.go-94"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-95" name="go/appbuilder/knowledge_base.go-95"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-96" name="go/appbuilder/knowledge_base.go-96"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledge_base/document?clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-97" name="go/appbuilder/knowledge_base.go-97"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-98" name="go/appbuilder/knowledge_base.go-98"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-99" name="go/appbuilder/knowledge_base.go-99"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-100" name="go/appbuilder/knowledge_base.go-100"></a>
<a id="go/appbuilder/knowledge_base.go-101" name="go/appbuilder/knowledge_base.go-101"></a><span class="w">	</span><span class="nx">reqMap</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-102" name="go/appbuilder/knowledge_base.go-102"></a><span class="w">	</span><span class="nx">reqJson</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Marshal</span><span class="p">(</span><span class="nx">req</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-104" name="go/appbuilder/knowledge_base.go-104"></a><span class="w">	</span><span class="nx">params</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">Values</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-105" name="go/appbuilder/knowledge_base.go-105"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">reqMap</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-106" name="go/appbuilder/knowledge_base.go-106"></a><span class="w">		</span><span class="k">switch</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">value</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-107" name="go/appbuilder/knowledge_base.go-107"></a><span class="w">		</span><span class="k">case</span><span class="w"> </span><span class="kt">float64</span><span class="p">:</span>
<a id="go/appbuilder/knowledge_base.go-108" name="go/appbuilder/knowledge_base.go-108"></a><span class="hll"><span class="w">			</span><span class="nx">params</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">strconv</span><span class="p">.</span><span class="nx">Itoa</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nx">v</span><span class="p">)))</span>
</span><a id="go/appbuilder/knowledge_base.go-109" name="go/appbuilder/knowledge_base.go-109"></a><span class="w">		</span><span class="k">case</span><span class="w"> </span><span class="kt">string</span><span class="p">:</span>
<a id="go/appbuilder/knowledge_base.go-110" name="go/appbuilder/knowledge_base.go-110"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-111" name="go/appbuilder/knowledge_base.go-111"></a><span class="hll"><span class="w">				</span><span class="k">continue</span>
</span><a id="go/appbuilder/knowledge_base.go-112" name="go/appbuilder/knowledge_base.go-112"></a><span class="w">			</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-113" name="go/appbuilder/knowledge_base.go-113"></a><span class="w">			</span><span class="nx">params</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-114" name="go/appbuilder/knowledge_base.go-114"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-115" name="go/appbuilder/knowledge_base.go-115"></a><span class="w">	</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-122" name="go/appbuilder/knowledge_base.go-122"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
<a id="go/appbuilder/knowledge_base.go-123" name="go/appbuilder/knowledge_base.go-123"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-124" name="go/appbuilder/knowledge_base.go-124"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">DefaultClient</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-125" name="go/appbuilder/knowledge_base.go-125"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-126" name="go/appbuilder/knowledge_base.go-126"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-127" name="go/appbuilder/knowledge_base.go-127"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-128" name="go/appbuilder/knowledge_base.go-128"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-129" name="go/appbuilder/knowledge_base.go-129"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-130" name="go/appbuilder/knowledge_base.go-130"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-131" name="go/appbuilder/knowledge_base.go-131"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-132" name="go/appbuilder/knowledge_base.go-132"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-133" name="go/appbuilder/knowledge_base.go-133"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-134" name="go/appbuilder/knowledge_base.go-134"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-136" name="go/appbuilder/knowledge_base.go-136"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">KnowledgeBase</span><span class="p">)</span><span class="w"> </span><span class="nx">GetDocumentList</span><span class="p">(</span><span class="nx">req</span><span class="w"> </span><span class="nx">GetDocumentListRequest</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">GetDocumentListResponse</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-137" name="go/appbuilder/knowledge_base.go-137"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-138" name="go/appbuilder/knowledge_base.go-138"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledge_base/documents&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-139" name="go/appbuilder/knowledge_base.go-139"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-140" name="go/appbuilder/knowledge_base.go-140"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-141" name="go/appbuilder/knowledge_base.go-141"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-142" name="go/appbuilder/knowledge_base.go-142"></a>
<a id="go/appbuilder/knowledge_base.go-143" name="go/appbuilder/knowledge_base.go-143"></a><span class="w">	</span><span class="nx">reqMap</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-144" name="go/appbuilder/knowledge_base.go-144"></a><span class="w">	</span><span class="nx">reqJson</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Marshal</span><span class="p">(</span><span class="nx">req</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-146" name="go/appbuilder/knowledge_base.go-146"></a><span class="w">	</span><span class="nx">params</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">Values</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-147" name="go/appbuilder/knowledge_base.go-147"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">reqMap</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-148" name="go/appbuilder/knowledge_base.go-148"></a><span class="w">		</span><span class="k">switch</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">value</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-149" name="go/appbuilder/knowledge_base.go-149"></a><span class="w">		</span><span class="k">case</span><span class="w"> </span><span class="kt">float64</span><span class="p">:</span>
<a id="go/appbuilder/knowledge_base.go-150" name="go/appbuilder/knowledge_base.go-150"></a><span class="hll"><span class="w">			</span><span class="nx">params</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">strconv</span><span class="p">.</span><span class="nx">Itoa</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nx">v</span><span class="p">)))</span>
</span><a id="go/appbuilder/knowledge_base.go-151" name="go/appbuilder/knowledge_base.go-151"></a><span class="w">		</span><span class="k">case</span><span class="w"> </span><span class="kt">string</span><span class="p">:</span>
<a id="go/appbuilder/knowledge_base.go-152" name="go/appbuilder/knowledge_base.go-152"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-153" name="go/appbuilder/knowledge_base.go-153"></a><span class="hll"><span class="w">				</span><span class="k">continue</span>
</span><a id="go/appbuilder/knowledge_base.go-154" name="go/appbuilder/knowledge_base.go-154"></a><span class="w">			</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-155" name="go/appbuilder/knowledge_base.go-155"></a><span class="w">			</span><span class="nx">params</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-156" name="go/appbuilder/knowledge_base.go-156"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-157" name="go/appbuilder/knowledge_base.go-157"></a><span class="w">	</span><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-166" name="go/appbuilder/knowledge_base.go-166"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-167" name="go/appbuilder/knowledge_base.go-167"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-168" name="go/appbuilder/knowledge_base.go-168"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-169" name="go/appbuilder/knowledge_base.go-169"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-170" name="go/appbuilder/knowledge_base.go-170"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-171" name="go/appbuilder/knowledge_base.go-171"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-172" name="go/appbuilder/knowledge_base.go-172"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-173" name="go/appbuilder/knowledge_base.go-173"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-174" name="go/appbuilder/knowledge_base.go-174"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-175" name="go/appbuilder/knowledge_base.go-175"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-176" name="go/appbuilder/knowledge_base.go-176"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-177" name="go/appbuilder/knowledge_base.go-177"></a><span class="w">	</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-178" name="go/appbuilder/knowledge_base.go-178"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-179" name="go/appbuilder/knowledge_base.go-179"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-180" name="go/appbuilder/knowledge_base.go-180"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-181" name="go/appbuilder/knowledge_base.go-181"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">GetDocumentListResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-182" name="go/appbuilder/knowledge_base.go-182"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-183" name="go/appbuilder/knowledge_base.go-183"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-184" name="go/appbuilder/knowledge_base.go-184"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-185" name="go/appbuilder/knowledge_base.go-185"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-186" name="go/appbuilder/knowledge_base.go-186"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, content=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">respData</span><span class="p">))</span>
</span><a id="go/appbuilder/knowledge_base.go-187" name="go/appbuilder/knowledge_base.go-187"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-188" name="go/appbuilder/knowledge_base.go-188"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-189" name="go/appbuilder/knowledge_base.go-189"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-192" name="go/appbuilder/knowledge_base.go-192"></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span>
<a id="go/appbuilder/knowledge_base.go-193" name="go/appbuilder/knowledge_base.go-193"></a><span class="w">	</span><span class="nx">w</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">multipart</span><span class="p">.</span><span class="nx">NewWriter</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">data</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-194" name="go/appbuilder/knowledge_base.go-194"></a><span class="w">	</span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">localFilePath</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-195" name="go/appbuilder/knowledge_base.go-195"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-196" name="go/appbuilder/knowledge_base.go-196"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-197" name="go/appbuilder/knowledge_base.go-197"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-198" name="go/appbuilder/knowledge_base.go-198"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-199" name="go/appbuilder/knowledge_base.go-199"></a><span class="w">	</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormFile</span><span class="p">(</span><span class="s">&quot;file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Base</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">Name</span><span class="p">()))</span>
<a id="go/appbuilder/knowledge_base.go-200" name="go/appbuilder/knowledge_base.go-200"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">Copy</span><span class="p">(</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-201" name="go/appbuilder/knowledge_base.go-201"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-202" name="go/appbuilder/knowledge_base.go-202"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-203" name="go/appbuilder/knowledge_base.go-203"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-204" name="go/appbuilder/knowledge_base.go-204"></a>
<a id="go/appbuilder/knowledge_base.go-205" name="go/appbuilder/knowledge_base.go-205"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-205" name="go/appbuilder/knowledge_base.go-205"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-206" name="go/appbuilder/knowledge_base.go-206"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-207" name="go/appbuilder/knowledge_base.go-207"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/file&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-208" name="go/appbuilder/knowledge_base.go-208"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-209" name="go/appbuilder/knowledge_base.go-209"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-210" name="go/appbuilder/knowledge_base.go-210"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-211" name="go/appbuilder/knowledge_base.go-211"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-212" name="go/appbuilder/knowledge_base.go-212"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-213" name="go/appbuilder/knowledge_base.go-213"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">FormDataContentType</span><span class="p">())</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-214" name="go/appbuilder/knowledge_base.go-214"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
<a id="go/appbuilder/knowledge_base.go-215" name="go/appbuilder/knowledge_base.go-215"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">Bytes</span><span class="p">()))</span>
<a id="go/appbuilder/knowledge_base.go-216" name="go/appbuilder/knowledge_base.go-216"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-217" name="go/appbuilder/knowledge_base.go-217"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-218" name="go/appbuilder/knowledge_base.go-218"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-219" name="go/appbuilder/knowledge_base.go-219"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-220" name="go/appbuilder/knowledge_base.go-220"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-221" name="go/appbuilder/knowledge_base.go-221"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-222" name="go/appbuilder/knowledge_base.go-222"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-223" name="go/appbuilder/knowledge_base.go-223"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-224" name="go/appbuilder/knowledge_base.go-224"></a><span class="w">	</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-225" name="go/appbuilder/knowledge_base.go-225"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-226" name="go/appbuilder/knowledge_base.go-226"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-227" name="go/appbuilder/knowledge_base.go-227"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-228" name="go/appbuilder/knowledge_base.go-228"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">UploadFileResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-229" name="go/appbuilder/knowledge_base.go-229"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">respData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-230" name="go/appbuilder/knowledge_base.go-230"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-231" name="go/appbuilder/knowledge_base.go-231"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-232" name="go/appbuilder/knowledge_base.go-232"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-233" name="go/appbuilder/knowledge_base.go-233"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, content=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">respData</span><span class="p">))</span>
</span><a id="go/appbuilder/knowledge_base.go-234" name="go/appbuilder/knowledge_base.go-234"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-235" name="go/appbuilder/knowledge_base.go-235"></a><span class="w">	</span><span class="nx">fileID</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">FileID</span>
<a id="go/appbuilder/knowledge_base.go-236" name="go/appbuilder/knowledge_base.go-236"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">fileID</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-237" name="go/appbuilder/knowledge_base.go-237"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-243" name="go/appbuilder/knowledge_base.go-243"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-244" name="go/appbuilder/knowledge_base.go-244"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-245" name="go/appbuilder/knowledge_base.go-245"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=CreateKnowledgeBase&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-246" name="go/appbuilder/knowledge_base.go-246"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-247" name="go/appbuilder/knowledge_base.go-247"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-248" name="go/appbuilder/knowledge_base.go-248"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-249" name="go/appbuilder/knowledge_base.go-249"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-250" name="go/appbuilder/knowledge_base.go-250"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-251" name="go/appbuilder/knowledge_base.go-251"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-254" name="go/appbuilder/knowledge_base.go-254"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-255" name="go/appbuilder/knowledge_base.go-255"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-256" name="go/appbuilder/knowledge_base.go-256"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-257" name="go/appbuilder/knowledge_base.go-257"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-258" name="go/appbuilder/knowledge_base.go-258"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-259" name="go/appbuilder/knowledge_base.go-259"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-260" name="go/appbuilder/knowledge_base.go-260"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-261" name="go/appbuilder/knowledge_base.go-261"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-262" name="go/appbuilder/knowledge_base.go-262"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-263" name="go/appbuilder/knowledge_base.go-263"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-264" name="go/appbuilder/knowledge_base.go-264"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-265" name="go/appbuilder/knowledge_base.go-265"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-266" name="go/appbuilder/knowledge_base.go-266"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-267" name="go/appbuilder/knowledge_base.go-267"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-268" name="go/appbuilder/knowledge_base.go-268"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-269" name="go/appbuilder/knowledge_base.go-269"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-270" name="go/appbuilder/knowledge_base.go-270"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-271" name="go/appbuilder/knowledge_base.go-271"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-272" name="go/appbuilder/knowledge_base.go-272"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-273" name="go/appbuilder/knowledge_base.go-273"></a>
<a id="go/appbuilder/knowledge_base.go-274" name="go/appbuilder/knowledge_base.go-274"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-275" name="go/appbuilder/knowledge_base.go-275"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-278" name="go/appbuilder/knowledge_base.go-278"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-279" name="go/appbuilder/knowledge_base.go-279"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-280" name="go/appbuilder/knowledge_base.go-280"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=DescribeKnowledgeBase&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-281" name="go/appbuilder/knowledge_base.go-281"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-282" name="go/appbuilder/knowledge_base.go-282"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-283" name="go/appbuilder/knowledge_base.go-283"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-284" name="go/appbuilder/knowledge_base.go-284"></a><span class="w">	</span><span class="nx">req</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-285" name="go/appbuilder/knowledge_base.go-285"></a><span class="w">	</span><span class="nx">req</span><span class="p">.</span><span class="nx">ID</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">knowledgeBaseID</span>
<a id="go/appbuilder/knowledge_base.go-286" name="go/appbuilder/knowledge_base.go-286"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-291" name="go/appbuilder/knowledge_base.go-291"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-292" name="go/appbuilder/knowledge_base.go-292"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-293" name="go/appbuilder/knowledge_base.go-293"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-294" name="go/appbuilder/knowledge_base.go-294"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-295" name="go/appbuilder/knowledge_base.go-295"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-296" name="go/appbuilder/knowledge_base.go-296"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-297" name="go/appbuilder/knowledge_base.go-297"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-298" name="go/appbuilder/knowledge_base.go-298"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-299" name="go/appbuilder/knowledge_base.go-299"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-300" name="go/appbuilder/knowledge_base.go-300"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-301" name="go/appbuilder/knowledge_base.go-301"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-302" name="go/appbuilder/knowledge_base.go-302"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-303" name="go/appbuilder/knowledge_base.go-303"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-304" name="go/appbuilder/knowledge_base.go-304"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-305" name="go/appbuilder/knowledge_base.go-305"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-306" name="go/appbuilder/knowledge_base.go-306"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-307" name="go/appbuilder/knowledge_base.go-307"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-308" name="go/appbuilder/knowledge_base.go-308"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-309" name="go/appbuilder/knowledge_base.go-309"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-310" name="go/appbuilder/knowledge_base.go-310"></a>
<a id="go/appbuilder/knowledge_base.go-311" name="go/appbuilder/knowledge_base.go-311"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-312" name="go/appbuilder/knowledge_base.go-312"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-315" name="go/appbuilder/knowledge_base.go-315"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-316" name="go/appbuilder/knowledge_base.go-316"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-317" name="go/appbuilder/knowledge_base.go-317"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=DescribeKnowledgeBases&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-318" name="go/appbuilder/knowledge_base.go-318"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-319" name="go/appbuilder/knowledge_base.go-319"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">GetKnowledgeBaseListResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-320" name="go/appbuilder/knowledge_base.go-320"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-321" name="go/appbuilder/knowledge_base.go-321"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-322" name="go/appbuilder/knowledge_base.go-322"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-323" name="go/appbuilder/knowledge_base.go-323"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-326" name="go/appbuilder/knowledge_base.go-326"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-327" name="go/appbuilder/knowledge_base.go-327"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-328" name="go/appbuilder/knowledge_base.go-328"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-329" name="go/appbuilder/knowledge_base.go-329"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-330" name="go/appbuilder/knowledge_base.go-330"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">GetKnowledgeBaseListResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-331" name="go/appbuilder/knowledge_base.go-331"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-332" name="go/appbuilder/knowledge_base.go-332"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-333" name="go/appbuilder/knowledge_base.go-333"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-334" name="go/appbuilder/knowledge_base.go-334"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-335" name="go/appbuilder/knowledge_base.go-335"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">GetKnowledgeBaseListResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-336" name="go/appbuilder/knowledge_base.go-336"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-337" name="go/appbuilder/knowledge_base.go-337"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-338" name="go/appbuilder/knowledge_base.go-338"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-339" name="go/appbuilder/knowledge_base.go-339"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">GetKnowledgeBaseListResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-340" name="go/appbuilder/knowledge_base.go-340"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-341" name="go/appbuilder/knowledge_base.go-341"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">GetKnowledgeBaseListResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-342" name="go/appbuilder/knowledge_base.go-342"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-343" name="go/appbuilder/knowledge_base.go-343"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">GetKnowledgeBaseListResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-344" name="go/appbuilder/knowledge_base.go-344"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-345" name="go/appbuilder/knowledge_base.go-345"></a>
<a id="go/appbuilder/knowledge_base.go-346" name="go/appbuilder/knowledge_base.go-346"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-347" name="go/appbuilder/knowledge_base.go-347"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-353" name="go/appbuilder/knowledge_base.go-353"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-354" name="go/appbuilder/knowledge_base.go-354"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-355" name="go/appbuilder/knowledge_base.go-355"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=ModifyKnowledgeBase&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-356" name="go/appbuilder/knowledge_base.go-356"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-357" name="go/appbuilder/knowledge_base.go-357"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-358" name="go/appbuilder/knowledge_base.go-358"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-359" name="go/appbuilder/knowledge_base.go-359"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-360" name="go/appbuilder/knowledge_base.go-360"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-361" name="go/appbuilder/knowledge_base.go-361"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-364" name="go/appbuilder/knowledge_base.go-364"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-365" name="go/appbuilder/knowledge_base.go-365"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-366" name="go/appbuilder/knowledge_base.go-366"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-367" name="go/appbuilder/knowledge_base.go-367"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-368" name="go/appbuilder/knowledge_base.go-368"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-369" name="go/appbuilder/knowledge_base.go-369"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-370" name="go/appbuilder/knowledge_base.go-370"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-371" name="go/appbuilder/knowledge_base.go-371"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-372" name="go/appbuilder/knowledge_base.go-372"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-373" name="go/appbuilder/knowledge_base.go-373"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-374" name="go/appbuilder/knowledge_base.go-374"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-375" name="go/appbuilder/knowledge_base.go-375"></a><span class="w">	</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-376" name="go/appbuilder/knowledge_base.go-376"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-377" name="go/appbuilder/knowledge_base.go-377"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-378" name="go/appbuilder/knowledge_base.go-378"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-379" name="go/appbuilder/knowledge_base.go-379"></a>
<a id="go/appbuilder/knowledge_base.go-380" name="go/appbuilder/knowledge_base.go-380"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-381" name="go/appbuilder/knowledge_base.go-381"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-384" name="go/appbuilder/knowledge_base.go-384"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">deleteKnowledgeBase</span><span class="p">(</span><span class="nx">knowledgeBaseID</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-385" name="go/appbuilder/knowledge_base.go-385"></a><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-386" name="go/appbuilder/knowledge_base.go-386"></a>
<a id="go/appbuilder/knowledge_base.go-387" name="go/appbuilder/knowledge_base.go-387"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">KnowledgeBase</span><span class="p">)</span><span class="w"> </span><span class="nx">DeleteKnowledgeBaseWithReq</span><span class="p">(</span><span class="nx">req</span><span class="w"> </span><span class="nx">DeleteKnowlegeBaseRequest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-388" name="go/appbuilder/knowledge_base.go-388"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">deleteKnowledgeBase</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-389" name="go/appbuilder/knowledge_base.go-389"></a><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-390" name="go/appbuilder/knowledge_base.go-390"></a>
<a id="go/appbuilder/knowledge_base.go-391" name="go/appbuilder/knowledge_base.go-391"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">KnowledgeBase</span><span class="p">)</span><span class="w"> </span><span class="nx">deleteKnowledgeBase</span><span class="p">(</span><span class="nx">knowledgeBaseID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">clientToken</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-392" name="go/appbuilder/knowledge_base.go-392"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-395" name="go/appbuilder/knowledge_base.go-395"></a><span class="w">		</span><span class="nx">clientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-396" name="go/appbuilder/knowledge_base.go-396"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-397" name="go/appbuilder/knowledge_base.go-397"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=DeleteKnowledgeBase&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">clientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-398" name="go/appbuilder/knowledge_base.go-398"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-399" name="go/appbuilder/knowledge_base.go-399"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-400" name="go/appbuilder/knowledge_base.go-400"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-401" name="go/appbuilder/knowledge_base.go-401"></a><span class="w">	</span><span class="nx">req</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">KnowledgeBaseDetail</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-402" name="go/appbuilder/knowledge_base.go-402"></a><span class="w">	</span><span class="nx">req</span><span class="p">.</span><span class="nx">ID</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">knowledgeBaseID</span>
<a id="go/appbuilder/knowledge_base.go-403" name="go/appbuilder/knowledge_base.go-403"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-408" name="go/appbuilder/knowledge_base.go-408"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-409" name="go/appbuilder/knowledge_base.go-409"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-410" name="go/appbuilder/knowledge_base.go-410"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-411" name="go/appbuilder/knowledge_base.go-411"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-412" name="go/appbuilder/knowledge_base.go-412"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-413" name="go/appbuilder/knowledge_base.go-413"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-414" name="go/appbuilder/knowledge_base.go-414"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-415" name="go/appbuilder/knowledge_base.go-415"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-416" name="go/appbuilder/knowledge_base.go-416"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-417" name="go/appbuilder/knowledge_base.go-417"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-418" name="go/appbuilder/knowledge_base.go-418"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-419" name="go/appbuilder/knowledge_base.go-419"></a><span class="w">	</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-420" name="go/appbuilder/knowledge_base.go-420"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-421" name="go/appbuilder/knowledge_base.go-421"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-422" name="go/appbuilder/knowledge_base.go-422"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-423" name="go/appbuilder/knowledge_base.go-423"></a>
<a id="go/appbuilder/knowledge_base.go-424" name="go/appbuilder/knowledge_base.go-424"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-425" name="go/appbuilder/knowledge_base.go-425"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-431" name="go/appbuilder/knowledge_base.go-431"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-432" name="go/appbuilder/knowledge_base.go-432"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-433" name="go/appbuilder/knowledge_base.go-433"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=CreateDocuments&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-434" name="go/appbuilder/knowledge_base.go-434"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-435" name="go/appbuilder/knowledge_base.go-435"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-436" name="go/appbuilder/knowledge_base.go-436"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-437" name="go/appbuilder/knowledge_base.go-437"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-438" name="go/appbuilder/knowledge_base.go-438"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-439" name="go/appbuilder/knowledge_base.go-439"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-442" name="go/appbuilder/knowledge_base.go-442"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-443" name="go/appbuilder/knowledge_base.go-443"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-444" name="go/appbuilder/knowledge_base.go-444"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-445" name="go/appbuilder/knowledge_base.go-445"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-446" name="go/appbuilder/knowledge_base.go-446"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-447" name="go/appbuilder/knowledge_base.go-447"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-448" name="go/appbuilder/knowledge_base.go-448"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-449" name="go/appbuilder/knowledge_base.go-449"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-450" name="go/appbuilder/knowledge_base.go-450"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-451" name="go/appbuilder/knowledge_base.go-451"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-452" name="go/appbuilder/knowledge_base.go-452"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-453" name="go/appbuilder/knowledge_base.go-453"></a><span class="w">	</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-454" name="go/appbuilder/knowledge_base.go-454"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-455" name="go/appbuilder/knowledge_base.go-455"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-456" name="go/appbuilder/knowledge_base.go-456"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-457" name="go/appbuilder/knowledge_base.go-457"></a>
<a id="go/appbuilder/knowledge_base.go-458" name="go/appbuilder/knowledge_base.go-458"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-459" name="go/appbuilder/knowledge_base.go-459"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-462" name="go/appbuilder/knowledge_base.go-462"></a><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span>
<a id="go/appbuilder/knowledge_base.go-463" name="go/appbuilder/knowledge_base.go-463"></a><span class="w">	</span><span class="nx">w</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">multipart</span><span class="p">.</span><span class="nx">NewWriter</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">data</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-464" name="go/appbuilder/knowledge_base.go-464"></a><span class="w">	</span><span class="nx">file</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">Open</span><span class="p">(</span><span class="nx">localFilePath</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-465" name="go/appbuilder/knowledge_base.go-465"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-466" name="go/appbuilder/knowledge_base.go-466"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-467" name="go/appbuilder/knowledge_base.go-467"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-468" name="go/appbuilder/knowledge_base.go-468"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-469" name="go/appbuilder/knowledge_base.go-469"></a><span class="w">	</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormFile</span><span class="p">(</span><span class="s">&quot;file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Base</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">Name</span><span class="p">()))</span>
<a id="go/appbuilder/knowledge_base.go-470" name="go/appbuilder/knowledge_base.go-470"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">Copy</span><span class="p">(</span><span class="nx">filePart</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-471" name="go/appbuilder/knowledge_base.go-471"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-472" name="go/appbuilder/knowledge_base.go-472"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-473" name="go/appbuilder/knowledge_base.go-473"></a>
<a id="go/appbuilder/knowledge_base.go-474" name="go/appbuilder/knowledge_base.go-474"></a><span class="w">	</span><span class="nx">jsonData</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Marshal</span><span class="p">(</span><span class="nx">req</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-475" name="go/appbuilder/knowledge_base.go-475"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-476" name="go/appbuilder/knowledge_base.go-476"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;failed to marshal request: %w&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-477" name="go/appbuilder/knowledge_base.go-477"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-478" name="go/appbuilder/knowledge_base.go-478"></a><span class="w">	</span><span class="nx">jsonPart</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">CreateFormField</span><span class="p">(</span><span class="s">&quot;payload&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-479" name="go/appbuilder/knowledge_base.go-479"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-480" name="go/appbuilder/knowledge_base.go-480"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;failed to create form field: %w&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-481" name="go/appbuilder/knowledge_base.go-481"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-482" name="go/appbuilder/knowledge_base.go-482"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">jsonPart</span><span class="p">.</span><span class="nx">Write</span><span class="p">(</span><span class="nx">jsonData</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-483" name="go/appbuilder/knowledge_base.go-483"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;failed to write JSON data: %w&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-484" name="go/appbuilder/knowledge_base.go-484"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-485" name="go/appbuilder/knowledge_base.go-485"></a><span class="w">	</span><span class="nx">w</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-486" name="go/appbuilder/knowledge_base.go-486"></a>
<a id="go/appbuilder/knowledge_base.go-487" name="go/appbuilder/knowledge_base.go-487"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-490" name="go/appbuilder/knowledge_base.go-490"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-491" name="go/appbuilder/knowledge_base.go-491"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-492" name="go/appbuilder/knowledge_base.go-492"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=UploadDocuments&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-493" name="go/appbuilder/knowledge_base.go-493"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-494" name="go/appbuilder/knowledge_base.go-494"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-495" name="go/appbuilder/knowledge_base.go-495"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-496" name="go/appbuilder/knowledge_base.go-496"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-497" name="go/appbuilder/knowledge_base.go-497"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-498" name="go/appbuilder/knowledge_base.go-498"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-499" name="go/appbuilder/knowledge_base.go-499"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">FormDataContentType</span><span class="p">())</span>
<a id="go/appbuilder/knowledge_base.go-500" name="go/appbuilder/knowledge_base.go-500"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">Bytes</span><span class="p">()))</span>
<a id="go/appbuilder/knowledge_base.go-501" name="go/appbuilder/knowledge_base.go-501"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-502" name="go/appbuilder/knowledge_base.go-502"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-503" name="go/appbuilder/knowledge_base.go-503"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-504" name="go/appbuilder/knowledge_base.go-504"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-505" name="go/appbuilder/knowledge_base.go-505"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-506" name="go/appbuilder/knowledge_base.go-506"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-507" name="go/appbuilder/knowledge_base.go-507"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-508" name="go/appbuilder/knowledge_base.go-508"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-509" name="go/appbuilder/knowledge_base.go-509"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-510" name="go/appbuilder/knowledge_base.go-510"></a><span class="w">	</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-511" name="go/appbuilder/knowledge_base.go-511"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-512" name="go/appbuilder/knowledge_base.go-512"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-513" name="go/appbuilder/knowledge_base.go-513"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-514" name="go/appbuilder/knowledge_base.go-514"></a>
<a id="go/appbuilder/knowledge_base.go-515" name="go/appbuilder/knowledge_base.go-515"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-516" name="go/appbuilder/knowledge_base.go-516"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-522" name="go/appbuilder/knowledge_base.go-522"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-523" name="go/appbuilder/knowledge_base.go-523"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-524" name="go/appbuilder/knowledge_base.go-524"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=CreateChunk&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-525" name="go/appbuilder/knowledge_base.go-525"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-526" name="go/appbuilder/knowledge_base.go-526"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-527" name="go/appbuilder/knowledge_base.go-527"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-528" name="go/appbuilder/knowledge_base.go-528"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-529" name="go/appbuilder/knowledge_base.go-529"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-530" name="go/appbuilder/knowledge_base.go-530"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-533" name="go/appbuilder/knowledge_base.go-533"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-534" name="go/appbuilder/knowledge_base.go-534"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-535" name="go/appbuilder/knowledge_base.go-535"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-536" name="go/appbuilder/knowledge_base.go-536"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-537" name="go/appbuilder/knowledge_base.go-537"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-538" name="go/appbuilder/knowledge_base.go-538"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-539" name="go/appbuilder/knowledge_base.go-539"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-540" name="go/appbuilder/knowledge_base.go-540"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-541" name="go/appbuilder/knowledge_base.go-541"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-542" name="go/appbuilder/knowledge_base.go-542"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-543" name="go/appbuilder/knowledge_base.go-543"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-544" name="go/appbuilder/knowledge_base.go-544"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-545" name="go/appbuilder/knowledge_base.go-545"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-546" name="go/appbuilder/knowledge_base.go-546"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-547" name="go/appbuilder/knowledge_base.go-547"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-548" name="go/appbuilder/knowledge_base.go-548"></a>
<a id="go/appbuilder/knowledge_base.go-549" name="go/appbuilder/knowledge_base.go-549"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">CreateChunkResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-550" name="go/appbuilder/knowledge_base.go-550"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-551" name="go/appbuilder/knowledge_base.go-551"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-552" name="go/appbuilder/knowledge_base.go-552"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-553" name="go/appbuilder/knowledge_base.go-553"></a>
<a id="go/appbuilder/knowledge_base.go-554" name="go/appbuilder/knowledge_base.go-554"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-555" name="go/appbuilder/knowledge_base.go-555"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-561" name="go/appbuilder/knowledge_base.go-561"></a><span class="w">		</span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-562" name="go/appbuilder/knowledge_base.go-562"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-563" name="go/appbuilder/knowledge_base.go-563"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=ModifyChunk&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-564" name="go/appbuilder/knowledge_base.go-564"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-565" name="go/appbuilder/knowledge_base.go-565"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-566" name="go/appbuilder/knowledge_base.go-566"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-567" name="go/appbuilder/knowledge_base.go-567"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-568" name="go/appbuilder/knowledge_base.go-568"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-569" name="go/appbuilder/knowledge_base.go-569"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-572" name="go/appbuilder/knowledge_base.go-572"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-573" name="go/appbuilder/knowledge_base.go-573"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-574" name="go/appbuilder/knowledge_base.go-574"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-575" name="go/appbuilder/knowledge_base.go-575"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-576" name="go/appbuilder/knowledge_base.go-576"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-577" name="go/appbuilder/knowledge_base.go-577"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-578" name="go/appbuilder/knowledge_base.go-578"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-579" name="go/appbuilder/knowledge_base.go-579"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-580" name="go/appbuilder/knowledge_base.go-580"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-581" name="go/appbuilder/knowledge_base.go-581"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-582" name="go/appbuilder/knowledge_base.go-582"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-583" name="go/appbuilder/knowledge_base.go-583"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-584" name="go/appbuilder/knowledge_base.go-584"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-585" name="go/appbuilder/knowledge_base.go-585"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-586" name="go/appbuilder/knowledge_base.go-586"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-587" name="go/appbuilder/knowledge_base.go-587"></a>
<a id="go/appbuilder/knowledge_base.go-588" name="go/appbuilder/knowledge_base.go-588"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">CreateChunkResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-589" name="go/appbuilder/knowledge_base.go-589"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-590" name="go/appbuilder/knowledge_base.go-590"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-591" name="go/appbuilder/knowledge_base.go-591"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-592" name="go/appbuilder/knowledge_base.go-592"></a>
<a id="go/appbuilder/knowledge_base.go-593" name="go/appbuilder/knowledge_base.go-593"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-594" name="go/appbuilder/knowledge_base.go-594"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-597" name="go/appbuilder/knowledge_base.go-597"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">deleteChunk</span><span class="p">(</span><span class="nx">chunkID</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-598" name="go/appbuilder/knowledge_base.go-598"></a><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-599" name="go/appbuilder/knowledge_base.go-599"></a>
<a id="go/appbuilder/knowledge_base.go-600" name="go/appbuilder/knowledge_base.go-600"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">KnowledgeBase</span><span class="p">)</span><span class="w"> </span><span class="nx">DeleteChunkWithReq</span><span class="p">(</span><span class="nx">req</span><span class="w"> </span><span class="nx">DeleteChunkRequest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-601" name="go/appbuilder/knowledge_base.go-601"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">deleteChunk</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">ChunkID</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">ClientToken</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-602" name="go/appbuilder/knowledge_base.go-602"></a><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-603" name="go/appbuilder/knowledge_base.go-603"></a>
<a id="go/appbuilder/knowledge_base.go-604" name="go/appbuilder/knowledge_base.go-604"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">KnowledgeBase</span><span class="p">)</span><span class="w"> </span><span class="nx">deleteChunk</span><span class="p">(</span><span class="nx">chunkID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">clientToken</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-605" name="go/appbuilder/knowledge_base.go-605"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-608" name="go/appbuilder/knowledge_base.go-608"></a><span class="w">		</span><span class="nx">clientToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">uuid</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span><span class="nx">String</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-609" name="go/appbuilder/knowledge_base.go-609"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-610" name="go/appbuilder/knowledge_base.go-610"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=DeleteChunk&amp;clientToken=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">clientToken</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-611" name="go/appbuilder/knowledge_base.go-611"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-612" name="go/appbuilder/knowledge_base.go-612"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-613" name="go/appbuilder/knowledge_base.go-613"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-614" name="go/appbuilder/knowledge_base.go-614"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-615" name="go/appbuilder/knowledge_base.go-615"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-616" name="go/appbuilder/knowledge_base.go-616"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-622" name="go/appbuilder/knowledge_base.go-622"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-623" name="go/appbuilder/knowledge_base.go-623"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-624" name="go/appbuilder/knowledge_base.go-624"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-625" name="go/appbuilder/knowledge_base.go-625"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-626" name="go/appbuilder/knowledge_base.go-626"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-627" name="go/appbuilder/knowledge_base.go-627"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-628" name="go/appbuilder/knowledge_base.go-628"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-629" name="go/appbuilder/knowledge_base.go-629"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-630" name="go/appbuilder/knowledge_base.go-630"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-631" name="go/appbuilder/knowledge_base.go-631"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-632" name="go/appbuilder/knowledge_base.go-632"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-633" name="go/appbuilder/knowledge_base.go-633"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-634" name="go/appbuilder/knowledge_base.go-634"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-635" name="go/appbuilder/knowledge_base.go-635"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-636" name="go/appbuilder/knowledge_base.go-636"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-637" name="go/appbuilder/knowledge_base.go-637"></a>
<a id="go/appbuilder/knowledge_base.go-638" name="go/appbuilder/knowledge_base.go-638"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">CreateChunkResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-639" name="go/appbuilder/knowledge_base.go-639"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-640" name="go/appbuilder/knowledge_base.go-640"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-641" name="go/appbuilder/knowledge_base.go-641"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-642" name="go/appbuilder/knowledge_base.go-642"></a>
<a id="go/appbuilder/knowledge_base.go-643" name="go/appbuilder/knowledge_base.go-643"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-644" name="go/appbuilder/knowledge_base.go-644"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-647" name="go/appbuilder/knowledge_base.go-647"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-648" name="go/appbuilder/knowledge_base.go-648"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-649" name="go/appbuilder/knowledge_base.go-649"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=DescribeChunk&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-650" name="go/appbuilder/knowledge_base.go-650"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-651" name="go/appbuilder/knowledge_base.go-651"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunkResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-652" name="go/appbuilder/knowledge_base.go-652"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-653" name="go/appbuilder/knowledge_base.go-653"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-654" name="go/appbuilder/knowledge_base.go-654"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-655" name="go/appbuilder/knowledge_base.go-655"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-661" name="go/appbuilder/knowledge_base.go-661"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-662" name="go/appbuilder/knowledge_base.go-662"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-663" name="go/appbuilder/knowledge_base.go-663"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-664" name="go/appbuilder/knowledge_base.go-664"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-665" name="go/appbuilder/knowledge_base.go-665"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunkResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-666" name="go/appbuilder/knowledge_base.go-666"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-667" name="go/appbuilder/knowledge_base.go-667"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-668" name="go/appbuilder/knowledge_base.go-668"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-669" name="go/appbuilder/knowledge_base.go-669"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-670" name="go/appbuilder/knowledge_base.go-670"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunkResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-671" name="go/appbuilder/knowledge_base.go-671"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-672" name="go/appbuilder/knowledge_base.go-672"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-673" name="go/appbuilder/knowledge_base.go-673"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-674" name="go/appbuilder/knowledge_base.go-674"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunkResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-675" name="go/appbuilder/knowledge_base.go-675"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-676" name="go/appbuilder/knowledge_base.go-676"></a>
<a id="go/appbuilder/knowledge_base.go-677" name="go/appbuilder/knowledge_base.go-677"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">DescribeChunkResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-678" name="go/appbuilder/knowledge_base.go-678"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-679" name="go/appbuilder/knowledge_base.go-679"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunkResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-680" name="go/appbuilder/knowledge_base.go-680"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-681" name="go/appbuilder/knowledge_base.go-681"></a>
<a id="go/appbuilder/knowledge_base.go-682" name="go/appbuilder/knowledge_base.go-682"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-683" name="go/appbuilder/knowledge_base.go-683"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-686" name="go/appbuilder/knowledge_base.go-686"></a><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-687" name="go/appbuilder/knowledge_base.go-687"></a><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeaderV2</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-688" name="go/appbuilder/knowledge_base.go-688"></a><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURLV2</span><span class="p">(</span><span class="s">&quot;/knowledgeBase?Action=DescribeChunks&quot;</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-689" name="go/appbuilder/knowledge_base.go-689"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-690" name="go/appbuilder/knowledge_base.go-690"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunksResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-691" name="go/appbuilder/knowledge_base.go-691"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-692" name="go/appbuilder/knowledge_base.go-692"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
<a id="go/appbuilder/knowledge_base.go-693" name="go/appbuilder/knowledge_base.go-693"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<a id="go/appbuilder/knowledge_base.go-694" name="go/appbuilder/knowledge_base.go-694"></a><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/knowledge_base.go-697" name="go/appbuilder/knowledge_base.go-697"></a><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<a id="go/appbuilder/knowledge_base.go-698" name="go/appbuilder/knowledge_base.go-698"></a><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-699" name="go/appbuilder/knowledge_base.go-699"></a><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-700" name="go/appbuilder/knowledge_base.go-700"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-701" name="go/appbuilder/knowledge_base.go-701"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunksResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/knowledge_base.go-702" name="go/appbuilder/knowledge_base.go-702"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-703" name="go/appbuilder/knowledge_base.go-703"></a><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
<a id="go/appbuilder/knowledge_base.go-704" name="go/appbuilder/knowledge_base.go-704"></a><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-705" name="go/appbuilder/knowledge_base.go-705"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-706" name="go/appbuilder/knowledge_base.go-706"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunksResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-707" name="go/appbuilder/knowledge_base.go-707"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-708" name="go/appbuilder/knowledge_base.go-708"></a><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
<a id="go/appbuilder/knowledge_base.go-709" name="go/appbuilder/knowledge_base.go-709"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-710" name="go/appbuilder/knowledge_base.go-710"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunksResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-711" name="go/appbuilder/knowledge_base.go-711"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-712" name="go/appbuilder/knowledge_base.go-712"></a>
<a id="go/appbuilder/knowledge_base.go-713" name="go/appbuilder/knowledge_base.go-713"></a><span class="w">	</span><span class="nx">rsp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">DescribeChunksResponse</span><span class="p">{}</span>
<a id="go/appbuilder/knowledge_base.go-714" name="go/appbuilder/knowledge_base.go-714"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">rsp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/knowledge_base.go-715" name="go/appbuilder/knowledge_base.go-715"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">DescribeChunksResponse</span><span class="p">{},</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/knowledge_base.go-716" name="go/appbuilder/knowledge_base.go-716"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/knowledge_base.go-717" name="go/appbuilder/knowledge_base.go-717"></a>
<a id="go/appbuilder/knowledge_base.go-718" name="go/appbuilder/knowledge_base.go-718"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">rsp</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/knowledge_base.go-719" name="go/appbuilder/knowledge_base.go-719"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/rag.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/rag.go-24" name="go/appbuilder/rag.go-24"></a><span class="w">	</span><span class="s">&quot;time&quot;</span>
<a id="go/appbuilder/rag.go-25" name="go/appbuilder/rag.go-25"></a><span class="p">)</span>
<a id="go/appbuilder/rag.go-26" name="go/appbuilder/rag.go-26"></a>
<a id="go/appbuilder/rag.go-27" name="go/appbuilder/rag.go-27"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewRAG</span><span class="p">(</span><span class="nx">appID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">*</span><span class="nx">SDKConfig</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">RAG</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/rag.go-28" name="go/appbuilder/rag.go-28"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">appID</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-29" name="go/appbuilder/rag.go-29"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;appID is empty&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-30" name="go/appbuilder/rag.go-30"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-31" name="go/appbuilder/rag.go-31"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-32" name="go/appbuilder/rag.go-32"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;invalid config&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-33" name="go/appbuilder/rag.go-33"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-34" name="go/appbuilder/rag.go-34"></a><span class="hll"><span class="w">	</span><span class="nx">client</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">HTTPClient</span>
</span><a id="go/appbuilder/rag.go-35" name="go/appbuilder/rag.go-35"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-36" name="go/appbuilder/rag.go-36"></a><span class="hll"><span class="w">		</span><span class="nx">client</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span><span class="nx">Timeout</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">}</span>
</span><a id="go/appbuilder/rag.go-37" name="go/appbuilder/rag.go-37"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-38" name="go/appbuilder/rag.go-38"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">RAG</span><span class="p">{</span><span class="nx">appID</span><span class="p">:</span><span class="w"> </span><span class="nx">appID</span><span class="p">,</span><span class="w"> </span><span class="nx">sdkConfig</span><span class="p">:</span><span class="w"> </span><span class="nx">config</span><span class="p">,</span><span class="w"> </span><span class="nx">client</span><span class="p">:</span><span class="w"> </span><span class="nx">client</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/rag.go-39" name="go/appbuilder/rag.go-39"></a><span class="p">}</span>
<a id="go/appbuilder/rag.go-40" name="go/appbuilder/rag.go-40"></a>
<a id="go/appbuilder/rag.go-41" name="go/appbuilder/rag.go-41"></a><span class="kd">type</span><span class="w"> </span><span class="nx">RAG</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/rag.go-42" name="go/appbuilder/rag.go-42"></a><span class="w">	</span><span class="nx">appID</span><span class="w">     </span><span class="kt">string</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/rag.go-44" name="go/appbuilder/rag.go-44"></a><span class="w">	</span><span class="nx">client</span><span class="w">    </span><span class="nx">HTTPClient</span>
<a id="go/appbuilder/rag.go-45" name="go/appbuilder/rag.go-45"></a><span class="p">}</span>
<a id="go/appbuilder/rag.go-46" name="go/appbuilder/rag.go-46"></a>
<a id="go/appbuilder/rag.go-47" name="go/appbuilder/rag.go-47"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">RAG</span><span class="p">)</span><span class="w"> </span><span class="nx">Run</span><span class="p">(</span><span class="nx">conversationID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">query</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">RAGIterator</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/rag.go-48" name="go/appbuilder/rag.go-48"></a><span class="hll"><span class="w">	</span><span class="nx">request</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">{}</span>
</span><a id="go/appbuilder/rag.go-49" name="go/appbuilder/rag.go-49"></a><span class="hll"><span class="w">	</span><span class="nx">header</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">AuthHeader</span><span class="p">()</span>
</span><a id="go/appbuilder/rag.go-50" name="go/appbuilder/rag.go-50"></a><span class="hll"><span class="w">	</span><span class="nx">serviceURL</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">ServiceURL</span><span class="p">(</span><span class="s">&quot;/api/v1/ai_engine/agi_platform/v1/instance/integrated&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-51" name="go/appbuilder/rag.go-51"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-52" name="go/appbuilder/rag.go-52"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/rag.go-53" name="go/appbuilder/rag.go-53"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-54" name="go/appbuilder/rag.go-54"></a><span class="hll"><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">URL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">serviceURL</span>
</span><a id="go/appbuilder/rag.go-55" name="go/appbuilder/rag.go-55"></a><span class="hll"><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Method</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
</span><a id="go/appbuilder/rag.go-56" name="go/appbuilder/rag.go-56"></a><span class="hll"><span class="w">	</span><span class="nx">header</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-57" name="go/appbuilder/rag.go-57"></a><span class="hll"><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Header</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">header</span>
</span><a id="go/appbuilder/rag.go-58" name="go/appbuilder/rag.go-58"></a><span class="hll"><span class="w">	</span><span class="nx">req</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;conversation_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">conversationID</span><span class="p">,</span>
</span><a id="go/appbuilder/rag.go-59" name="go/appbuilder/rag.go-59"></a><span class="w">		</span><span class="s">&quot;response_mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;blocking&quot;</span><span class="p">,</span>
<a id="go/appbuilder/rag.go-60" name="go/appbuilder/rag.go-60"></a><span class="w">		</span><span class="s">&quot;query&quot;</span><span class="p">:</span><span class="w">         </span><span class="nx">query</span><span class="p">,</span>
<a id="go/appbuilder/rag.go-61" name="go/appbuilder/rag.go-61"></a><span class="w">		</span><span class="s">&quot;app_id&quot;</span><span class="p">:</span><span class="w">        </span><span class="nx">t</span><span class="p">.</span><span class="nx">appID</span><span class="p">,</span>
<a id="go/appbuilder/rag.go-62" name="go/appbuilder/rag.go-62"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-63" name="go/appbuilder/rag.go-63"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-64" name="go/appbuilder/rag.go-64"></a><span class="hll"><span class="w">		</span><span class="nx">req</span><span class="p">[</span><span class="s">&quot;response_mode&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;streaming&quot;</span>
</span><a id="go/appbuilder/rag.go-65" name="go/appbuilder/rag.go-65"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-66" name="go/appbuilder/rag.go-66"></a><span class="hll"><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Marshal</span><span class="p">(</span><span class="nx">req</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-67" name="go/appbuilder/rag.go-67"></a><span class="hll"><span class="w">	</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/rag.go-68" name="go/appbuilder/rag.go-68"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">sdkConfig</span><span class="p">.</span><span class="nx">BuildCurlCommand</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-69" name="go/appbuilder/rag.go-69"></a><span class="hll"><span class="w">	</span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">Do</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">request</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-70" name="go/appbuilder/rag.go-70"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-71" name="go/appbuilder/rag.go-71"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/rag.go-72" name="go/appbuilder/rag.go-72"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-73" name="go/appbuilder/rag.go-73"></a><span class="hll"><span class="w">	</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">checkHTTPResponse</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-74" name="go/appbuilder/rag.go-74"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-75" name="go/appbuilder/rag.go-75"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/rag.go-76" name="go/appbuilder/rag.go-76"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-77" name="go/appbuilder/rag.go-77"></a><span class="hll"><span class="w">	</span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="nx">bufio</span><span class="p">.</span><span class="nx">NewReader</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">))</span>
</span><a id="go/appbuilder/rag.go-78" name="go/appbuilder/rag.go-78"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag.go-79" name="go/appbuilder/rag.go-79"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">RAGStreamIterator</span><span class="p">{</span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/rag.go-80" name="go/appbuilder/rag.go-80"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag.go-81" name="go/appbuilder/rag.go-81"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">RAGOnceIterator</span><span class="p">{</span><span class="nx">body</span><span class="p">:</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">,</span><span class="w"> </span><span class="nx">requestID</span><span class="p">:</span><span class="w"> </span><span class="nx">requestID</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/rag.go-82" name="go/appbuilder/rag.go-82"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/rag_data.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/rag_data.go-47" name="go/appbuilder/rag_data.go-47"></a><span class="w">	</span><span class="nx">Events</span><span class="w">         </span><span class="p">[]</span><span class="nx">RAGEvent</span>
<a id="go/appbuilder/rag_data.go-48" name="go/appbuilder/rag_data.go-48"></a><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-49" name="go/appbuilder/rag_data.go-49"></a>
<a id="go/appbuilder/rag_data.go-50" name="go/appbuilder/rag_data.go-50"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">RAGAnswer</span><span class="p">)</span><span class="w"> </span><span class="nx">transform</span><span class="p">(</span><span class="nx">res</span><span class="w"> </span><span class="o">*</span><span class="nx">RAGRunResponse</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/rag_data.go-51" name="go/appbuilder/rag_data.go-51"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">Answer</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">Result</span><span class="p">.</span><span class="nx">Answer</span>
</span><a id="go/appbuilder/rag_data.go-52" name="go/appbuilder/rag_data.go-52"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">ConversationID</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">Result</span><span class="p">.</span><span class="nx">ConversationID</span>
</span><a id="go/appbuilder/rag_data.go-53" name="go/appbuilder/rag_data.go-53"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">Events</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">Result</span><span class="p">.</span><span class="nx">Content</span>
</span><a id="go/appbuilder/rag_data.go-54" name="go/appbuilder/rag_data.go-54"></a><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-55" name="go/appbuilder/rag_data.go-55"></a>
<a id="go/appbuilder/rag_data.go-56" name="go/appbuilder/rag_data.go-56"></a><span class="c1">// RAGIterator 定义RAG流式/非流式迭代器接口</span>
<a id="go/appbuilder/rag_data.go-57" name="go/appbuilder/rag_data.go-57"></a><span class="c1">// 初始状态可迭代,如果返回error不为空则代表迭代结束，</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/rag_data.go-67" name="go/appbuilder/rag_data.go-67"></a><span class="w">	</span><span class="nx">body</span><span class="w">      </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadCloser</span>
<a id="go/appbuilder/rag_data.go-68" name="go/appbuilder/rag_data.go-68"></a><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-69" name="go/appbuilder/rag_data.go-69"></a>
<a id="go/appbuilder/rag_data.go-70" name="go/appbuilder/rag_data.go-70"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">RAGStreamIterator</span><span class="p">)</span><span class="w"> </span><span class="nx">Next</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">RAGAnswer</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/rag_data.go-71" name="go/appbuilder/rag_data.go-71"></a><span class="hll"><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">r</span><span class="p">.</span><span class="nx">ReadMessageLine</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-72" name="go/appbuilder/rag_data.go-72"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!(</span><span class="nx">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-73" name="go/appbuilder/rag_data.go-73"></a><span class="hll"><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-74" name="go/appbuilder/rag_data.go-74"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-75" name="go/appbuilder/rag_data.go-75"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-76" name="go/appbuilder/rag_data.go-76"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-77" name="go/appbuilder/rag_data.go-77"></a><span class="hll"><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-78" name="go/appbuilder/rag_data.go-78"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/rag_data.go-79" name="go/appbuilder/rag_data.go-79"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-80" name="go/appbuilder/rag_data.go-80"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">HasPrefix</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;data:&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-81" name="go/appbuilder/rag_data.go-81"></a><span class="hll"><span class="w">		</span><span class="kd">var</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="nx">RAGRunResponse</span>
</span><a id="go/appbuilder/rag_data.go-82" name="go/appbuilder/rag_data.go-82"></a><span class="hll"><span class="w">		</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span><a id="go/appbuilder/rag_data.go-83" name="go/appbuilder/rag_data.go-83"></a><span class="hll"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="mi">5</span><span class="p">:],</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-84" name="go/appbuilder/rag_data.go-84"></a><span class="hll"><span class="w">			</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-85" name="go/appbuilder/rag_data.go-85"></a><span class="hll"><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-86" name="go/appbuilder/rag_data.go-86"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-87" name="go/appbuilder/rag_data.go-87"></a><span class="hll"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-88" name="go/appbuilder/rag_data.go-88"></a><span class="hll"><span class="w">			</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-89" name="go/appbuilder/rag_data.go-89"></a><span class="hll"><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/rag_data.go-90" name="go/appbuilder/rag_data.go-90"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-91" name="go/appbuilder/rag_data.go-91"></a><span class="hll"><span class="w">		</span><span class="nx">answer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">RAGAnswer</span><span class="p">{}</span>
</span><a id="go/appbuilder/rag_data.go-92" name="go/appbuilder/rag_data.go-92"></a><span class="hll"><span class="w">		</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-93" name="go/appbuilder/rag_data.go-93"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/rag_data.go-94" name="go/appbuilder/rag_data.go-94"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-95" name="go/appbuilder/rag_data.go-95"></a><span class="w">	</span><span class="c1">// 非SSE格式关闭连接，并返回数据</span>
<a id="go/appbuilder/rag_data.go-96" name="go/appbuilder/rag_data.go-96"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-97" name="go/appbuilder/rag_data.go-97"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/rag_data.go-98" name="go/appbuilder/rag_data.go-98"></a><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-99" name="go/appbuilder/rag_data.go-99"></a>
<a id="go/appbuilder/rag_data.go-100" name="go/appbuilder/rag_data.go-100"></a><span class="c1">// RAGOnceIterator 非流式返回时对应的迭代器，只可迭代一次</span>
<a id="go/appbuilder/rag_data.go-101" name="go/appbuilder/rag_data.go-101"></a><span class="kd">type</span><span class="w"> </span><span class="nx">RAGOnceIterator</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/rag_data.go-104" name="go/appbuilder/rag_data.go-104"></a><span class="w">	</span><span class="nx">requestID</span><span class="w"> </span><span class="kt">string</span>
<a id="go/appbuilder/rag_data.go-105" name="go/appbuilder/rag_data.go-105"></a><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-106" name="go/appbuilder/rag_data.go-106"></a>
<a id="go/appbuilder/rag_data.go-107" name="go/appbuilder/rag_data.go-107"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">RAGOnceIterator</span><span class="p">)</span><span class="w"> </span><span class="nx">Next</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">RAGAnswer</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/rag_data.go-108" name="go/appbuilder/rag_data.go-108"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">eoi</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-109" name="go/appbuilder/rag_data.go-109"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">EOF</span>
</span><a id="go/appbuilder/rag_data.go-110" name="go/appbuilder/rag_data.go-110"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-111" name="go/appbuilder/rag_data.go-111"></a><span class="hll"><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-112" name="go/appbuilder/rag_data.go-112"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-113" name="go/appbuilder/rag_data.go-113"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-114" name="go/appbuilder/rag_data.go-114"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-115" name="go/appbuilder/rag_data.go-115"></a><span class="hll"><span class="w">	</span><span class="k">defer</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-116" name="go/appbuilder/rag_data.go-116"></a><span class="hll"><span class="w">	</span><span class="kd">var</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="nx">RAGRunResponse</span>
</span><a id="go/appbuilder/rag_data.go-117" name="go/appbuilder/rag_data.go-117"></a><span class="hll"><span class="w">	</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span><a id="go/appbuilder/rag_data.go-118" name="go/appbuilder/rag_data.go-118"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-119" name="go/appbuilder/rag_data.go-119"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, err=%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-120" name="go/appbuilder/rag_data.go-120"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-121" name="go/appbuilder/rag_data.go-121"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/rag_data.go-122" name="go/appbuilder/rag_data.go-122"></a><span class="hll"><span class="w">		</span><span class="nx">t</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
</span><a id="go/appbuilder/rag_data.go-123" name="go/appbuilder/rag_data.go-123"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;requestID=%s, body=%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/rag_data.go-124" name="go/appbuilder/rag_data.go-124"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/rag_data.go-125" name="go/appbuilder/rag_data.go-125"></a><span class="hll"><span class="w">	</span><span class="nx">t</span><span class="p">.</span><span class="nx">eoi</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
</span><a id="go/appbuilder/rag_data.go-126" name="go/appbuilder/rag_data.go-126"></a><span class="hll"><span class="w">	</span><span class="nx">answer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">RAGAnswer</span><span class="p">{}</span>
</span><a id="go/appbuilder/rag_data.go-127" name="go/appbuilder/rag_data.go-127"></a><span class="hll"><span class="w">	</span><span class="nx">answer</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">resp</span><span class="p">)</span>
</span><a id="go/appbuilder/rag_data.go-128" name="go/appbuilder/rag_data.go-128"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
</span><a id="go/appbuilder/rag_data.go-129" name="go/appbuilder/rag_data.go-129"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
        <div class="src-snippet">
            <div class="src-name">go/appbuilder/util.go</div>
            <div class="snippets">
            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/util.go-33" name="go/appbuilder/util.go-33"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">StatusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/util.go-34" name="go/appbuilder/util.go-34"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/util.go-35" name="go/appbuilder/util.go-35"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/util.go-36" name="go/appbuilder/util.go-36"></a>
<a id="go/appbuilder/util.go-37" name="go/appbuilder/util.go-37"></a><span class="hll"><span class="w">	</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadAll</span><span class="p">(</span><span class="nx">rsp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
</span><a id="go/appbuilder/util.go-38" name="go/appbuilder/util.go-38"></a><span class="hll"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
</span><a id="go/appbuilder/util.go-39" name="go/appbuilder/util.go-39"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
</span><a id="go/appbuilder/util.go-40" name="go/appbuilder/util.go-40"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/util.go-41" name="go/appbuilder/util.go-41"></a><span class="hll"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">requestID</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;http status code is %d, content is %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">rsp</span><span class="p">.</span><span class="nx">StatusCode</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span><a id="go/appbuilder/util.go-42" name="go/appbuilder/util.go-42"></a><span class="p">}</span>
<a id="go/appbuilder/util.go-43" name="go/appbuilder/util.go-43"></a>
<a id="go/appbuilder/util.go-44" name="go/appbuilder/util.go-44"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewSSEReader</span><span class="p">(</span><span class="nx">bufSize</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">reader</span><span class="w"> </span><span class="o">*</span><span class="nx">bufio</span><span class="p">.</span><span class="nx">Reader</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">sseReader</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/util.go-45" name="go/appbuilder/util.go-45"></a><span class="w">	</span><span class="nx">buf</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span><span class="w"> </span><span class="nx">bufSize</span><span class="p">)</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/util.go-58" name="go/appbuilder/util.go-58"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/util.go-59" name="go/appbuilder/util.go-59"></a><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
<a id="go/appbuilder/util.go-60" name="go/appbuilder/util.go-60"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/util.go-61" name="go/appbuilder/util.go-61"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span><span class="o">+</span><span class="nx">size</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nb">cap</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">buf</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/util.go-62" name="go/appbuilder/util.go-62"></a><span class="hll"><span class="w">			</span><span class="nb">panic</span><span class="p">(</span><span class="s">&quot;buffer overflow&quot;</span><span class="p">)</span>
</span><a id="go/appbuilder/util.go-63" name="go/appbuilder/util.go-63"></a><span class="w">		</span><span class="p">}</span>
<a id="go/appbuilder/util.go-64" name="go/appbuilder/util.go-64"></a><span class="w">		</span><span class="nx">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nb">copy</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">buf</span><span class="p">[</span><span class="nx">size</span><span class="p">:],</span><span class="w"> </span><span class="nx">line</span><span class="p">)</span>
<a id="go/appbuilder/util.go-65" name="go/appbuilder/util.go-65"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">isPrefix</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/util.go-66" name="go/appbuilder/util.go-66"></a><span class="w">			</span><span class="k">break</span>
</pre></div></td></tr></table></div>

            <div class="snippet"><table class="snippettable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><a id="go/appbuilder/util.go-68" name="go/appbuilder/util.go-68"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/util.go-69" name="go/appbuilder/util.go-69"></a><span class="w">	</span><span class="c1">// 读取空行</span>
<a id="go/appbuilder/util.go-70" name="go/appbuilder/util.go-70"></a><span class="w">	</span><span class="nx">line</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">reader</span><span class="p">.</span><span class="nx">ReadLine</span><span class="p">()</span>
<a id="go/appbuilder/util.go-71" name="go/appbuilder/util.go-71"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="go/appbuilder/util.go-72" name="go/appbuilder/util.go-72"></a><span class="hll"><span class="w">		</span><span class="nx">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nb">copy</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">buf</span><span class="p">[</span><span class="nx">size</span><span class="p">:],</span><span class="w"> </span><span class="nx">line</span><span class="p">)</span>
</span><a id="go/appbuilder/util.go-73" name="go/appbuilder/util.go-73"></a><span class="hll"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nx">size</span><span class="p">]))</span>
</span><a id="go/appbuilder/util.go-74" name="go/appbuilder/util.go-74"></a><span class="w">	</span><span class="p">}</span>
<a id="go/appbuilder/util.go-75" name="go/appbuilder/util.go-75"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nx">size</span><span class="p">],</span><span class="w"> </span><span class="kc">nil</span>
<a id="go/appbuilder/util.go-76" name="go/appbuilder/util.go-76"></a><span class="p">}</span>
</pre></div></td></tr></table></div>

            </div>
        </div>
    </body>
</html>